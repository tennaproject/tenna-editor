import type { BaseProperties } from '@types';
import { ARMORS, type ArmorIndex } from './armors';
import { CHARACTERS, type CharacterIndex } from './characters';
import { CONSUMABLES, type ConsumableIndex } from './consumables';
import { FLAGS, type FlagIndex } from './flags';
import { KEYITEMS, type KeyItemIndex } from './key-items';
import { LIGHTWORLDITEMS, type LightWorldItemIndex } from './light-world-items';
import { PHONECONTACTS, type PhoneContactIndex } from './phone-contacts';
import { ROOMS, type RoomIndex } from './rooms';
import { SPELLS, type SpellIndex } from './spells';
import { WEAPONS, type WeaponIndex } from './weapons';
import { ENEMIES, type EnemyIndex } from './enemies';

export const CHAPTERS = {
  CH1: 1,
  CH2: 2,
  CH3: 3,
  CH4: 4,
} as const;

export type ChapterIndex = (typeof CHAPTERS)[keyof typeof CHAPTERS];
export type ChapterName = keyof typeof CHAPTERS;

interface ChapterProperties extends BaseProperties {
  content: ChapterContent;
}

interface ChapterContent {
  characters: Set<CharacterIndex>;
  consumables: Set<ConsumableIndex>;
  keyItems: Set<KeyItemIndex>;
  spells: Set<SpellIndex>;
  weapons: Set<WeaponIndex>;
  armors: Set<ArmorIndex>;
  lightWorld: {
    items: Set<LightWorldItemIndex>;
    phoneContacts: Set<PhoneContactIndex>;
  };
  rooms: Set<RoomIndex>;
  flags: Set<FlagIndex>;
  enemies: Set<EnemyIndex>;
  meta: {
    consumablesSize: number;
    storagesSize: number;
    keyItemsSize: number;
    weaponsSize: number;
    armorsSize: number;
  };
}

const CH1_CONTENT: ChapterContent = {
  meta: {
    consumablesSize: 12,
    storagesSize: 0,
    keyItemsSize: 12,
    weaponsSize: 12,
    armorsSize: 12,
  },
  characters: new Set<CharacterIndex>([
    CHARACTERS.EMPTY,
    CHARACTERS.KRIS,
    CHARACTERS.SUSIE,
    CHARACTERS.RALSEI,
  ]),
  consumables: new Set<ConsumableIndex>([
    CONSUMABLES.EMPTY,
    CONSUMABLES.DARK_CANDY,
    CONSUMABLES.REVIVEMINT,
    CONSUMABLES.GLOWSHARD,
    CONSUMABLES.MANUAL,
    CONSUMABLES.BROKENCAKE,
    CONSUMABLES.TOPCAKE,
    CONSUMABLES.SPINCAKE,
    CONSUMABLES.DARKBURGER,
    CONSUMABLES.LANCERCOOKIE,
    CONSUMABLES.GIGASALAD,
    CONSUMABLES.CLUBSSANDWICH,
    CONSUMABLES.HEARTSDONUT,
    CONSUMABLES.CHOCODIAMOND,
    CONSUMABLES.FAVSANDWICH,
    CONSUMABLES.ROUXLSROUX,
  ]),
  keyItems: new Set<KeyItemIndex>([
    KEYITEMS.EMPTY,
    KEYITEMS.CELL_PHONE,
    KEYITEMS.EGG,
    KEYITEMS.BROKEN_CAKE,
    KEYITEMS.BROKEN_KEY_A,
    KEYITEMS.DOOR_KEY,
    KEYITEMS.BROKEN_KEY_B,
    KEYITEMS.BROKEN_KEY_C,
    KEYITEMS.SHADOW_CRYSTAL,
  ]),
  spells: new Set<SpellIndex>([
    SPELLS.EMPTY,
    SPELLS.RUDE_SWORD,
    SPELLS.HEAL_PRAYER,
    SPELLS.PACIFY,
    SPELLS.RUDE_BUSTER,
    SPELLS.RED_BUSTER,
    SPELLS.DUAL_HEAL,
    SPELLS.ACT,
  ]),
  weapons: new Set<WeaponIndex>([
    WEAPONS.EMPTY,
    WEAPONS.WOOD_BLADE,
    WEAPONS.MANE_AX,
    WEAPONS.RED_SCARF,
    WEAPONS.EVERYBODY_WEAPON,
    WEAPONS.SPOOKYSWORD,
    WEAPONS.BRAVE_AX,
    WEAPONS.DEVILSKNIFE,
    WEAPONS.TREFOIL,
    WEAPONS.RAGGER,
    WEAPONS.DAINTY_SCARF,
  ]),
  armors: new Set<ArmorIndex>([
    ARMORS.EMPTY,
    ARMORS.AMBER_CARD,
    ARMORS.DICE_BRACE,
    ARMORS.PINK_RIBBON,
    ARMORS.WHITE_RIBBON,
    ARMORS.IRON_SHACKLE,
    ARMORS.MOUSE_TOKEN,
    ARMORS.JEVILSTAIL,
    ARMORS.SILVER_CARD,
  ]),
  lightWorld: {
    items: new Set<LightWorldItemIndex>([
      LIGHTWORLDITEMS.EMPTY,
      LIGHTWORLDITEMS.HOT_CHOCOLATE,
      LIGHTWORLDITEMS.PENCIL,
      LIGHTWORLDITEMS.BANDAGE,
      LIGHTWORLDITEMS.BOUQUET,
      LIGHTWORLDITEMS.BALL_OF_JUNK,
      LIGHTWORLDITEMS.HALLOWEEN_PENCIL,
      LIGHTWORLDITEMS.LUCKY_PENCIL,
      LIGHTWORLDITEMS.EGG,
    ]),
    phoneContacts: new Set<PhoneContactIndex>([
      PHONECONTACTS.EMPTY,
      PHONECONTACTS.CALL_HOME,
      PHONECONTACTS.SANS,
    ]),
  },
  rooms: new Set<RoomIndex>([
    ROOMS.KRISROOM,
    ROOMS.KRISHALLWAY,
    ROOMS.TORROOM,
    ROOMS.TORHOUSE,
    ROOMS.TORBATHROOM,
    ROOMS.TOWN_KRISYARD,
    ROOMS.TOWN_NORTHWEST,
    ROOMS.TOWN_NORTH,
    ROOMS.BEACH,
    ROOMS.TOWN_MID,
    ROOMS.TOWN_APARTMENTS,
    ROOMS.TOWN_SOUTH,
    ROOMS.TOWN_SCHOOL,
    ROOMS.TOWN_CHURCH,
    ROOMS.GRAVEYARD,
    ROOMS.TOWN_SHELTER,
    ROOMS.HOSPITAL_LOBBY,
    ROOMS.HOSPITAL_HALLWAY,
    ROOMS.HOSPITAL_RUDY,
    ROOMS.HOSPITAL_ROOM2,
    ROOMS.DINER,
    ROOMS.TOWNHALL,
    ROOMS.FLOWERSHOP_1F,
    ROOMS.FLOWERSHOP_2F,
    ROOMS.LIBRARY,
    ROOMS.ALPHYSALLEY,
    ROOMS.TORIELCLASS,
    ROOMS.SCHOOLLOBBY,
    ROOMS.ALPHYSCLASS,
    ROOMS.SCHOOLDOOR,
    ROOMS.INSIDECLOSET,
    ROOMS.SCHOOL_UNUSEDROOM,
    ROOMS.DARK1,
    ROOMS.DARK1A,
    ROOMS.DARK2,
    ROOMS.DARK3,
    ROOMS.DARK3A,
    ROOMS.DARK_WOBBLES,
    ROOMS.DARK_EYEPUZZLE,
    ROOMS.DARK7,
    ROOMS.DARK_CHASE1,
    ROOMS.DARK_CHASE2,
    ROOMS.CASTLE_OUTSKIRTS,
    ROOMS.CASTLE_TOWN,
    ROOMS.CASTLE_FRONT,
    ROOMS.CASTLE_TUTORIAL,
    ROOMS.CASTLE_DARKDOOR,
    ROOMS.FIELD_START,
    ROOMS.FIELD_FOREST,
    ROOMS.FIELD1,
    ROOMS.FIELD2,
    ROOMS.FIELD2A,
    ROOMS.FIELD_TOPCHEF,
    ROOMS.FIELD_PUZZLE1,
    ROOMS.FIELD_MAZE,
    ROOMS.FIELD_PUZZLE2,
    ROOMS.FIELD_GETSUSIE,
    ROOMS.FIELD_SHOP1,
    ROOMS.FIELD_PUZZLETUTORIAL,
    ROOMS.FIELD3,
    ROOMS.FIELD_BOXPUZZLE,
    ROOMS.FIELD4,
    ROOMS.FIELD_SECRET1,
    ROOMS.FIELD_CHECKERS4,
    ROOMS.FIELD_CHECKERS2,
    ROOMS.FIELD_CHECKERS6,
    ROOMS.FIELD_CHECKERS3,
    ROOMS.FIELD_CHECKERS1,
    ROOMS.FIELD_CHECKERS5,
    ROOMS.FIELD_CHECKERS7,
    ROOMS.FIELD_CHECKERSBOSS,
    ROOMS.FOREST_SAVEPOINT1,
    ROOMS.FOREST_AREA0,
    ROOMS.FOREST_AREA1,
    ROOMS.FOREST_AREA2,
    ROOMS.FOREST_AREA2A,
    ROOMS.FOREST_PUZZLE1,
    ROOMS.FOREST_BEFORECLOVER,
    ROOMS.FOREST_AREA3A,
    ROOMS.FOREST_AREA3,
    ROOMS.FOREST_SAVEPOINT2,
    ROOMS.FOREST_SMITH,
    ROOMS.FOREST_AREA4,
    ROOMS.FOREST_DANCERS1,
    ROOMS.FOREST_SECRET1,
    ROOMS.FOREST_THRASHMAKER,
    ROOMS.FOREST_STARWALKER,
    ROOMS.FOREST_AREA5,
    ROOMS.FOREST_SAVEPOINT_RELAX,
    ROOMS.FOREST_MAZE1,
    ROOMS.FOREST_MAZE_DEADEND,
    ROOMS.FOREST_MAZE_SUSIE,
    ROOMS.FOREST_MAZE2,
    ROOMS.FOREST_MAZE_DEADEND2,
    ROOMS.FOREST_SAVEPOINT3,
    ROOMS.FOREST_FIGHTSUSIE,
    ROOMS.FOREST_AFTERTHRASH2,
    ROOMS.FOREST_AFTERTHRASH3,
    ROOMS.FOREST_AFTERTHRASH4,
    ROOMS.FOREST_CASTLEVIEW,
    ROOMS.FOREST_CHASE1,
    ROOMS.FOREST_CHASE2,
    ROOMS.FOREST_CASTLEFRONT,
    ROOMS.CC_PRISON_CELLS,
    ROOMS.CC_PRISONLANCER,
    ROOMS.CC_PRISON_TO_ELEVATOR,
    ROOMS.CC_PRISON2,
    ROOMS.CC_PRISONELEVATOR,
    ROOMS.CC_ELEVATOR,
    ROOMS.CC_PRISON_PREJOKER,
    ROOMS.CC_JOKER,
    ROOMS.CC_ENTRANCE,
    ROOMS.CC_1F,
    ROOMS.CC_RUDINN,
    ROOMS.CC_2F,
    ROOMS.CC_RURUS1,
    ROOMS.CC_3F,
    ROOMS.CC_HATHY,
    ROOMS.CC_4F,
    ROOMS.CC_RURUS2,
    ROOMS.CC_CLOVER,
    ROOMS.CC_5F,
    ROOMS.CC_LANCER,
    ROOMS.CC_6F,
    ROOMS.CC_THRONEROOM,
    ROOMS.CC_PREROOF,
    ROOMS.CC_KINGBATTLE,
    ROOMS.CC_PREFOUNTAIN,
    ROOMS.CC_FOUNTAIN,
    ROOMS.EMPTY,
    ROOMS.MAN,
  ]),
  flags: new Set<FlagIndex>([
    FLAGS.DISABLE_TEXT_SKIP,
    FLAGS.DISABLE_MENU,
    FLAGS.SIMPLIFY_VFX,
    FLAGS.BATTLE_MUSIC,
    FLAGS.WRIST_PROTECTOR,
    FLAGS.AUTO_RUN,
    FLAGS.DISABLE_SHAKING,
    FLAGS.USE_OLD_ATTACK,
    FLAGS.REMEMBER_BATTLE_MENU,
    FLAGS.SOUND_VOLUME,
    FLAGS.MUSIC_VOLUME,
    FLAGS.AUDIO_VOLUME,
    FLAGS.OTHER_TEXT_COMMAND,
    FLAGS.SUSIE_SHOW_EYES,
    FLAGS.RALSEI_HAT_STATE,
    FLAGS.DISABLE_LOUD_STEPS,
    FLAGS.HIDE_EQUIP_COMMENTS,
    FLAGS.CHOICE_TIME_TAKEN,
    FLAGS.VIOLENCES,
    FLAGS.SPARES,
    FLAGS.PACIFIES,
    FLAGS.AUTOSUSIE_VIOLENCES,
    FLAGS.LAST_ENCOUNTER_END,
    FLAGS.LAST_MONSTER_END_0,
    FLAGS.LAST_MONSTER_END_1,
    FLAGS.LAST_MONSTER_END_2,
    FLAGS.GOT_GLOWSHARD,
    FLAGS.GOT_CANDY,
    FLAGS.GOT_CANDY_2,
    FLAGS.GOT_BROKEN_CAKE,
    FLAGS.GOT_IRON_SHACKLE,
    FLAGS.GOT_MOSS_CH1,
    FLAGS.GOT_RAGGER,
    FLAGS.GOT_JEVIL_CHEST,
    FLAGS.GOT_KEY_A,
    FLAGS.RAN_IN_SCHOOL,
    FLAGS.SOLVED_EYE_PUZZLE,
    FLAGS.RAN_IN_DARK,
    FLAGS.SKIPPED_PROPHECY,
    FLAGS.BE_SUBJECT_ANSWER,
    FLAGS.TUTORIAL_END,
    FLAGS.RUNNING_TUTORIAL,
    FLAGS.MANUAL_STATUS,
    FLAGS.RE_CONVINCED_RUDINN,
    FLAGS.SEEN_FIELD_SONG,
    FLAGS.LANCER_THRASH_TALK,
    FLAGS.C_ROUND_OUTCOME,
    FLAGS.BOX_PUZZLE_STATE,
    FLAGS.TEAM_NAME,
    FLAGS.TALKED_JOE,
    FLAGS.DONATED_TO_HOLE,
    FLAGS.SOLVED_ROUXLS_PUZZ,
    FLAGS.SOLVED_ROUXLS_PUZZ_2,
    FLAGS.THRASH_MACHINE_HEAD,
    FLAGS.THRASH_MACHINE_BODY,
    FLAGS.THRASH_MACHINE_SHOE,
    FLAGS.THRASH_MACHINE_HEAD_COLOR,
    FLAGS.THRASH_MACHINE_BODY_COLOR,
    FLAGS.THRASH_MACHINE_SHOE_COLOR,
    FLAGS.MADE_THRASH_MACHINE,
    FLAGS.LANCER_FOLLOW_PROGRESS,
    FLAGS.JAIL_INTERACTS,
    FLAGS.INTERACTED_SALSA,
    FLAGS.TALKED_ABOUT_CHEST,
    FLAGS.SOLVED_CLOVER_PUZZLE,
    FLAGS.CLOVER_PUZZLE_2,
    FLAGS.INTERACTED_CLOVER,
    FLAGS.SOLVED_DARK_PUZZLE,
    FLAGS.SUSIE_BOUGHT_SNACK,
    FLAGS.ELEVATOR_FLOOR,
    FLAGS.ELEVATOR_UNLOCKED,
    FLAGS.JEVIL_PROGRESS,
    FLAGS.JEVIL_CHEST,
    FLAGS.TALKED_TO_RUDINN,
    FLAGS.TALKED_TO_HATHY,
    FLAGS.MADE_BLUH_CHEST,
    FLAGS.CHECKERS_ACT,
    FLAGS.PEACEFUL_KING,
    FLAGS.VIOLENT_ENDING_CH1,
    FLAGS.SPARED_LANCER,
    FLAGS.THRASH_REPEATS,
    FLAGS.SHORTCUT_DOOR_HELP,
    FLAGS.INSPECTED_BEDS_CH1,
    FLAGS.GOT_SPINCAKE,
    FLAGS.STARWALKER,
    FLAGS.TALKED_RUDY,
    FLAGS.TALKED_BERDLY_CH1,
    FLAGS.PICNIC_TABLE_FINGERS,
    FLAGS.ONION_CH1,
    FLAGS.ONION_YOUR_NAME,
    FLAGS.ONION_NAME,
    FLAGS.TALKED_QC,
    FLAGS.ASGORE_FLOWERS_PROGRESS,
    FLAGS.EGG_FRIDGE,
    FLAGS.ASGORE_STAIRS_SIDE,
    FLAGS.TALKED_CATTY,
    FLAGS.UNUSED_TORIEL_TALK,
    FLAGS.CALLED_IN_HOUSE,
    FLAGS.TALKED_ALPHYS,
    FLAGS.TALKED_UNDYNE,
    FLAGS.TALKED_BURGERPANTS,
    FLAGS.TIMES_CALLED_MOM,
    FLAGS.TALKED_SANS,
    FLAGS.GOT_SANS_PHONE,
    FLAGS.IDIOT_BABY_STATUS,
    FLAGS.TALKED_NOELLE,
    FLAGS.ENTERED_HOME_COUNT,
    FLAGS.USED_RUDY_SINK,
    FLAGS.LOADED_LEGACY_FILE,
    FLAGS.USED_SHADOW_CH1,
    FLAGS.USED_GLASS_ALONE,
    FLAGS.SOLVED_DICE_PUZZLE,
    FLAGS.MAZE_PROGRESS,
    FLAGS.MAZE_FAIL_COUNT,
    FLAGS.LANCER_DEADEND,
    FLAGS.SUSIE_DEADEND,
    FLAGS.YOURE_CLOVERS_MOM,
    FLAGS.VISITED_JAIL,
    FLAGS.TIMES_RUDINN_FOUGHT,
    FLAGS.TRIPLE_HATHY_OUTCOME,
    FLAGS.TIMES_PONMAN_FOUGHT,
    FLAGS.SUSIE_COMPLIMENTED,
    FLAGS.SUSIE_FLIRTED,
    FLAGS.FOUGHT_RABBICK,
    FLAGS.FOUGHT_BLOXER,
    FLAGS.FOUGHT_RUDINN_RANGER,
    FLAGS.FOUGHT_HATHYX,
    FLAGS.RUDINN_VIOLENCES,
    FLAGS.HATHY_VIOLENCES,
    FLAGS.CLOVER_VIOLENCE,
    FLAGS.RUDINN_SUSIE_WHACKS,
    FLAGS.HATHY_SUSIE_WHACKS,
    FLAGS.VESSEL_HEAD,
    FLAGS.VESSEL_BODY,
    FLAGS.VESSEL_LEGS,
    FLAGS.VESSEL_FOOD,
    FLAGS.VESSEL_BLOOD_TYPE,
    FLAGS.VESSEL_COLOR,
    FLAGS.VESSEL_FEELING,
    FLAGS.VESSEL_HONESTY,
    FLAGS.VESSEL_PAIN_SEIZURE,
    FLAGS.VESSEL_GIFT,
    FLAGS.EGG_ROOM_CH1,
    FLAGS.EGG_CH1,
    FLAGS.LANGUAGE,
  ]),
  enemies: new Set<EnemyIndex>([
    ENEMIES.DEBUG,
    ENEMIES.LANCER_1,
    ENEMIES.DUMMY,
    ENEMIES.RALSEI_TUTORIAL,
    ENEMIES.RUDINN,
    ENEMIES.HATHY,
    ENEMIES.CLOVER_1,
    ENEMIES.C_ROUND,
    ENEMIES.K_ROUND_1,
    ENEMIES.PONMAN,
    ENEMIES.LANCER_2,
    ENEMIES.RABBICK,
    ENEMIES.BLOXER,
    ENEMIES.JIGSAWRY,
    ENEMIES.CLOVER_2,
    ENEMIES.DOOMTANK,
    ENEMIES.LANCER_3,
    ENEMIES.SUSIE_AND_LANCER,
    ENEMIES.JEVIL,
    ENEMIES.K_ROUND_2,
    ENEMIES.RUDINN_RANGER,
    ENEMIES.HEAD_HATHY,
    ENEMIES.KING,
  ]),
};

const CH2_CONTENT: ChapterContent = {
  meta: {
    consumablesSize: 12,
    storagesSize: 24,
    keyItemsSize: 12,
    weaponsSize: 48,
    armorsSize: 48,
  },
  characters: new Set<CharacterIndex>([
    ...CH1_CONTENT.characters,
    CHARACTERS.NOELLE,
  ]),
  consumables: new Set([
    ...CH1_CONTENT.consumables,
    CONSUMABLES.CD_BAGEL,
    CONSUMABLES.MANNEQUIN,
    CONSUMABLES.KRIS_TEA,
    CONSUMABLES.NOELLE_TEA,
    CONSUMABLES.RALSEI_TEA,
    CONSUMABLES.SUSIE_TEA,
    CONSUMABLES.DD_BURGER,
    CONSUMABLES.LIGHTCANDY,
    CONSUMABLES.BUTLERJUICE,
    CONSUMABLES.SPAGHETTICODE,
    CONSUMABLES.JAVACOOKIE,
    CONSUMABLES.TENSIONBIT,
    CONSUMABLES.TENSIONGEM,
    CONSUMABLES.TENSIONMAX,
    CONSUMABLES.REVIVEDUST,
    CONSUMABLES.REVIVEBRITE,
    CONSUMABLES.S_POISON,
    CONSUMABLES.DOGDOLLAR,
  ]),
  keyItems: new Set<KeyItemIndex>([
    ...CH1_CONTENT.keyItems,
    KEYITEMS.LANCER,
    KEYITEMS.ROUXLS_KAARD,
    KEYITEMS.EMPTY_DISK,
    KEYITEMS.LOADED_DISK,
    KEYITEMS.KEYGEN,
    KEYITEMS.SHADOW_CRYSTAL,
    KEYITEMS.STARWALKER,
    KEYITEMS.PURE_CRYSTAL,
  ]),
  spells: new Set<SpellIndex>([
    ...CH1_CONTENT.spells,
    SPELLS.SLEEPMIST,
    SPELLS.ICESHOCK,
    SPELLS.SNOWGRAVE,
    SPELLS.SUSIE_HEAL,
  ]),
  weapons: new Set<WeaponIndex>([
    ...CH1_CONTENT.weapons,
    WEAPONS.TWISTED_SWD,
    WEAPONS.SNOW_RING,
    WEAPONS.THORN_RING,
    WEAPONS.BOUNCE_BLADE,
    WEAPONS.CHEER_SCARF,
    WEAPONS.MECHA_SABER,
    WEAPONS.AUTO_AXE,
    WEAPONS.FIBER_SCARF,
    WEAPONS.RAGGER2,
    WEAPONS.BROKEN_SWD,
    WEAPONS.PUPPET_SCARF,
    WEAPONS.FREEZE_RING,
  ]),
  armors: new Set<ArmorIndex>([
    ...CH1_CONTENT.armors,
    ARMORS.TWIN_RIBBON,
    ARMORS.GLOW_WRIST,
    ARMORS.CHAIN_MAIL,
    ARMORS.B_SHOT_BOWTIE,
    ARMORS.SPIKE_BAND,
    ARMORS.SILVER_WATCH,
    ARMORS.TENSION_BOW,
    ARMORS.MANNEQUIN,
    ARMORS.DARK_GOLD_BAND,
    ARMORS.SKY_MANTLE,
    ARMORS.SPIKE_SHACKLE,
    ARMORS.FRAYED_BOWTIE,
    ARMORS.DEALMAKER,
    ARMORS.ROYAL_PIN,
  ]),
  lightWorld: {
    items: new Set<LightWorldItemIndex>([
      ...CH1_CONTENT.lightWorld.items,
      LIGHTWORLDITEMS.CARDS,
      LIGHTWORLDITEMS.BOX_OF_HEART_CANDY,
      LIGHTWORLDITEMS.GLASS,
      LIGHTWORLDITEMS.ERASER,
      LIGHTWORLDITEMS.MECH_PENCIL,
      LIGHTWORLDITEMS.WRISTWATCH,
    ]),
    phoneContacts: new Set<PhoneContactIndex>([
      ...CH1_CONTENT.lightWorld.phoneContacts,
    ]),
  },
  rooms: new Set<RoomIndex>([
    ROOMS.PLACE_DOGCHECK2,
    ROOMS.INTRO_CH2,
    ROOMS.DW_MANSION_FOUNTAIN,
    ROOMS.DW_MANSION_PREFOUNTAIN,
    ROOMS.DEBUG_CHOICER_LIGHT,
    ROOMS.DEBUG_SMALLFACE,
    ROOMS.DEBUG_BATTLE_BALLOON,
    ROOMS.DEBUG_SMALLFACE_DARK,
    ROOMS.DEBUG_CHOICER_DARK,
    ROOMS.GMS_DEBUG_FAILSAFE,
    ROOMS.ROOM_INITIALIZE,
    ROOMS.TITLE_PLACEHOLDER,
    ROOMS.BATTLETEST,
    ROOMS.CUTSCENE_TESTER,
    ROOMS.SOUND_TESTER,
    ROOMS.SPRITE_TESTER,
    ROOMS.GIF_TESTER,
    ROOMS.BULLETTEST,
    ROOMS.TEACUP_DEMOAUTO,
    ROOMS.TEACUP_DEMOBULLETS,
    ROOMS.SHAUN_PUZZLE,
    ROOMS.GMS2_TEST,
    ROOMS.CUTSCENE_TESTER_B,
    ROOMS.DEBUG_COLOR,
    ROOMS.DEBUG_BATTLE,
    ROOMS.DEBUG_LOC,
    ROOMS.PLACE_CONTACT,
    ROOMS.KRISROOM_CH2,
    ROOMS.KRISHALLWAY_CH2,
    ROOMS.TORROOM_CH2,
    ROOMS.TORHOUSE_CH2,
    ROOMS.TORBATHROOM_CH2,
    ROOMS.TOWN_KRISYARD_CH2,
    ROOMS.TOWN_NORTHWEST_CH2,
    ROOMS.TOWN_NORTH_CH2,
    ROOMS.BEACH_CH2,
    ROOMS.TOWN_MID_CH2,
    ROOMS.TOWN_APARTMENTS_CH2,
    ROOMS.TOWN_SOUTH_CH2,
    ROOMS.TOWN_SCHOOL_CH2,
    ROOMS.TOWN_CHURCH_CH2,
    ROOMS.GRAVEYARD_CH2,
    ROOMS.TOWN_SHELTER_CH2,
    ROOMS.HOSPITAL_LOBBY_CH2,
    ROOMS.HOSPITAL_HALLWAY_CH2,
    ROOMS.HOSPITAL_RUDY_CH2,
    ROOMS.HOSPITAL_ROOM2_CH2,
    ROOMS.DINER_CH2,
    ROOMS.TOWNHALL_CH2,
    ROOMS.FLOWERSHOP_1F_CH2,
    ROOMS.FLOWERSHOP_2F_CH2,
    ROOMS.LIBRARY_CH2,
    ROOMS.ALPHYSALLEY_CH2,
    ROOMS.LW_COMPUTER_LAB,
    ROOMS.LW_LIBRARY_UPSTAIRS,
    ROOMS.LW_POLICE,
    ROOMS.LW_CONBINI,
    ROOMS.LW_ICEE_PIZZA,
    ROOMS.TORIELCLASS_CH2,
    ROOMS.SCHOOLLOBBY_CH2,
    ROOMS.ALPHYSCLASS_CH2,
    ROOMS.SCHOOLDOOR_CH2,
    ROOMS.INSIDECLOSET_CH2,
    ROOMS.SCHOOL_UNUSEDROOM_CH2,
    ROOMS.CASTLE_TOWN_CH2,
    ROOMS.CASTLE_TUTORIAL_CH2,
    ROOMS.DW_CASTLE_WEST_CLIFF_OLD,
    ROOMS.DW_CASTLE_EAST_DOOR,
    ROOMS.DW_CASTLE_WEST_CLIFF,
    ROOMS.DW_CASTLE_AREA_1,
    ROOMS.DW_CASTLE_AREA_2,
    ROOMS.DW_CASTLE_AREA_2_TRANSFORMED,
    ROOMS.DW_RALSEI_CASTLE_FRONT,
    ROOMS.DW_CASTLE_RESTAURANT,
    ROOMS.DW_CASTLE_CAFE,
    ROOMS.DW_CASTLE_DOJO,
    ROOMS.DW_RALSEI_CASTLE_1F,
    ROOMS.DW_RALSEI_CASTLE_2F,
    ROOMS.DW_CASTLE_DUNGEON,
    ROOMS.DW_CASTLE_ROOMS_HALLWAY,
    ROOMS.DW_CASTLE_ROOMS_KRIS,
    ROOMS.DW_CASTLE_ROOMS_SUSIE,
    ROOMS.DW_CASTLE_ROOMS_LANCER,
    ROOMS.DW_CYBER_INTRO_1,
    ROOMS.DW_CYBER_INTRO_CONNECTOR,
    ROOMS.DW_CYBER_INTRO_2,
    ROOMS.DW_CYBER_RHYTHM_SLIDE,
    ROOMS.DW_CYBER_SAVEPOINT,
    ROOMS.DW_CYBER_BATTLE_MAZE_1,
    ROOMS.DW_CYBER_MUSIC_BULLET,
    ROOMS.DW_CYBER_TASQUE_BATTLE,
    ROOMS.DW_CYBER_KEYBOARD_PUZZLE_1,
    ROOMS.DW_CYBER_QUEEN_BOXING,
    ROOMS.DW_CYBER_MUSICAL_DOOR,
    ROOMS.DW_CYBER_MAZE_VIROKUN,
    ROOMS.DW_CYBER_KEYBOARD_PUZZLE_2,
    ROOMS.DW_CYBER_BATTLE_MAZE_2,
    ROOMS.DW_CYBER_MUSIC_FINAL,
    ROOMS.DW_CYBER_MUSICAL_SHOP,
    ROOMS.DW_CYBER_TEACUP_FINAL,
    ROOMS.DW_CYBER_ROLLERCOASTER,
    ROOMS.DW_CYBER_MAZE_FIREWORKS,
    ROOMS.DW_CYBER_MAZE_TASQUE,
    ROOMS.DW_CYBER_MAZE_QUEENSCREEN,
    ROOMS.DW_CYBER_VIRO_RING,
    ROOMS.DW_CYBER_POST_MUSIC_BOSS_SLIDE,
    ROOMS.DW_CYBER_KEYBOARD_PUZZLE_3,
    ROOMS.DW_CYBER_BATTLE_MAZE_3,
    ROOMS.DW_CYBER_TEACUP_2,
    ROOMS.DW_CYBER_SHAUNSMUSICALBULLETTUNNEL,
    ROOMS.DW_CYBER_MAZE_RHYTHM,
    ROOMS.DW_CYBER_ESCALATOR_SLIDE,
    ROOMS.DW_CYBER_NUBERTS_TREASURE,
    ROOMS.DW_CYBER_MUSIC_FIGHT,
    ROOMS.DW_CYBER_KEYBOARDEXAMPLE,
    ROOMS.DW_CITY_PROTOTYPE_01,
    ROOMS.DW_CITY_PROTOTYPE_02,
    ROOMS.DW_CITY_SPAMTON_SHOP_EXTERIOR,
    ROOMS.DW_CITY_SPAMTON_HOUSE,
    ROOMS.DW_CITY_INTRO,
    ROOMS.DW_CITY_SPLIT,
    ROOMS.DW_CITY_ENTRANCE,
    ROOMS.DW_CITY_TRAFFIC_1,
    ROOMS.DW_CITY_ROADBLOCK,
    ROOMS.DW_CITY_HACKER,
    ROOMS.DW_CITY_MICE,
    ROOMS.DW_CITY_BIG_1,
    ROOMS.DW_CITY_TRAFFIC_2,
    ROOMS.DW_CITY_BIG_2,
    ROOMS.DW_CITY_QUEEN_DRUNK,
    ROOMS.DW_CITY_SAVEPOINT,
    ROOMS.DW_CITY_BIG_3,
    ROOMS.DW_CITY_TRAFFIC_3,
    ROOMS.DW_CITY_MICE2,
    ROOMS.DW_CITY_CHEESEMAZE,
    ROOMS.DW_CITY_MICE3,
    ROOMS.DW_CITY_POPPUP,
    ROOMS.DW_CITY_BERDLY,
    ROOMS.DW_CITY_TRAFFIC_4,
    ROOMS.DW_CITY_SPAMTON_ALLEY,
    ROOMS.DW_CITY_MONOLOGUE,
    ROOMS.DW_CITY_BASEBALL,
    ROOMS.DW_CITY_POSTBASEBALL_1,
    ROOMS.DW_CITY_POSTBASEBALL_2,
    ROOMS.DW_CITY_POSTBASEBALL_3,
    ROOMS.DW_CITY_MANSION_FRONT,
    ROOMS.DW_CITY_SUSIE_RALSEI_FUN_1,
    ROOMS.DW_CITY_MIRRORFRIEND,
    ROOMS.DW_CITY_TREASURE,
    ROOMS.DW_CITY_DOG_TRAFFIC,
    ROOMS.DW_CITY_MAN,
    ROOMS.DW_CITY_MOSS,
    ROOMS.DW_CITY_BIG_3_BACKUP_2EXITS,
    ROOMS.DW_CITY_TRAFFIC_3_2ENTRANCES,
    ROOMS.DW_CITY_CHEESE,
    ROOMS.DW_CITY_CARNIVAL,
    ROOMS.DW_CITY_NOELLE_FIGHT_INTRO,
    ROOMS.DW_CITY_SPAMTON_SHOP_INTERIOR,
    ROOMS.DW_CITY_MONOLOGUE_OLD,
    ROOMS.DW_MANSION_KRISROOM,
    ROOMS.DW_MANSION_SUSIEROOM,
    ROOMS.DW_MANSION_LIGHTNER_HALLWAY,
    ROOMS.DW_MANSION_DARKBULB_1,
    ROOMS.DW_MANSION_DARKBULB_2,
    ROOMS.DW_MANSION_DARKBULB_3,
    ROOMS.DW_MANSION_DINING_A,
    ROOMS.DW_MANSION_ENTRANCE,
    ROOMS.DW_MANSION_FIRE_PAINTINGS,
    ROOMS.DW_MANSION_SINGLE_POT,
    ROOMS.DW_MANSION_POTBALANCE,
    ROOMS.DW_MANSION_TASQUEPAINTINGS,
    ROOMS.DW_MANSION_TRAFFIC,
    ROOMS.DW_MANSION_EAST_1F_E,
    ROOMS.DW_MANSION_EAST_1F_SECRET,
    ROOMS.DW_MANSION_EAST_TEACUP,
    ROOMS.DW_MANSION_EAST_TEACUP_4,
    ROOMS.DW_MANSION_EAST_TEACUP_3,
    ROOMS.DW_MANSION_EAST_TEACUP_2,
    ROOMS.DW_MANSION_B_ENTRANCE,
    ROOMS.DW_MANSION_B_STAIRS,
    ROOMS.DW_MANSION_B_CENTRAL,
    ROOMS.DW_MANSION_B_WEST_1F,
    ROOMS.DW_MANSION_B_WEST_1F_A,
    ROOMS.DW_MANSION_B_WEST_1F_B,
    ROOMS.DW_MANSION_B_WEST_2F,
    ROOMS.DW_MANSION_B_EAST,
    ROOMS.DW_MANSION_B_EAST_A,
    ROOMS.DW_MANSION_B_EAST_B,
    ROOMS.DW_MANSION_B_EAST_TRANSFORMED,
    ROOMS.DW_MANSION_EAST_2F_A,
    ROOMS.DW_MANSION_EAST_2F_TRANSFORMED_NEW,
    ROOMS.DW_MANSION_EAST_2F_SHORTCUT,
    ROOMS.DW_MANSION_KITCHEN,
    ROOMS.DW_MANSION_EAST_2F_C,
    ROOMS.DW_MANSION_EAST_2F_C_A,
    ROOMS.DW_MANSION_EAST_2F_D,
    ROOMS.DW_MANSION_EAST_3F,
    ROOMS.DW_MANSION_EAST_3F_PROJECTION,
    ROOMS.DW_MANSION_EAST_3F_TOILET,
    ROOMS.DW_MANSION_ACID_TUNNEL,
    ROOMS.DW_MANSION_ACID_TUNNEL_PUZZLE_ENTRANCE,
    ROOMS.DW_MANSION_ACID_TUNNEL_LOOP_ROUXLS,
    ROOMS.DW_MANSION_ACID_TUNNEL_EXIT,
    ROOMS.DW_MANSION_EAST_4F_B,
    ROOMS.DW_MANSION_EAST_4F_C,
    ROOMS.DW_MANSION_EAST_4F_D,
    ROOMS.DW_MANSION_TOP,
    ROOMS.DW_MANSION_TOP_POST,
    ROOMS.DW_MANSION_FERRIS_WHEEL,
    ROOMS.DW_MANSION_FERRIS_WHEEL_POST,
    ROOMS.DW_MANSION_NOELLE_ROOM,
    ROOMS.DW_MANSION_BRIDGES,
    ROOMS.DW_MANSION_BRIDGES_FUNNY,
    ROOMS.DW_MANSION_MOUSELOTTERY,
    ROOMS.DW_MANSION_HANDS,
    ROOMS.DW_MANSION_DINING3,
    ROOMS.DW_MANSION_DININGHALL,
    ROOMS.DW_MANSION_DINING_STORAGE,
    ROOMS.DW_MANSION_EAST_1F_B,
    ROOMS.DW_MANSION_EAST_2F_C_B,
    ROOMS.DW_MANSION_TRAFFIC_ORIGINAL,
    ROOMS.DW_MANSION_EAST_1F_A,
    ROOMS.DW_MANSION_EAST_2F_TEACUP,
    ROOMS.DW_MANSION_EAST_4F_E,
    ROOMS.DW_MANSION_EAST_4F_A,
    ROOMS.DW_MANSION_EAST_2F_UFO_OLD,
    ROOMS.DW_MANSION_EAST_1F_D,
    ROOMS.DW_MANSION_EAST_1F_C,
    ROOMS.DW_MANSION_SPARKS,
    ROOMS.DW_MANSION_ACID_TUNNEL_OLD,
    ROOMS.DW_MANSION_TOP_POST_OLD,
    ROOMS.DW_MANSION_ELEVATOR,
    ROOMS.PLACE_DOG,
    ROOMS.LEGEND,
    ROOMS.LEGEND_NEO,
    ROOMS.SHOP1,
    ROOMS.SHOP_CH2_MUSIC,
    ROOMS.SHOP_CH2_SWATCH,
    ROOMS.SHOP_CH2_SPAMTON,
    ROOMS.GAMEOVER,
    ROOMS.PLACE_LOGO,
    ROOMS.PLACE_FAILURE,
    ROOMS.PLACE_NAMING_JIKKEN,
    ROOMS.PLACE_MENU,
    ROOMS.ED,
    ROOMS.EMPTY_CH2,
    ROOMS.DARKEMPTY,
    ROOMS.DARKBASE_GMS2,
    ROOMS.DW_CYBER_BATTLE_MAZE_2_OLD,
    ROOMS.DW_CYBER_KEYBOARD_PUZZLE_1_OLD,
    ROOMS.DW_CYBER_TASQUE_BATTLE_OG,
    ROOMS.DW_CYBER_SAVEPOINT_ORIGINAL,
    ROOMS.DW_CYBER_BATTLE_MAZE_1_ORIGINAL,
    ROOMS.DW_CYBER_MUSIC_BULLET_ORIGINAL,
    ROOMS.DW_CYBER_MAZE_VIROKUN_BACKUP,
    ROOMS.DW_CYBER_BATTLE_MAZE_2_TOBY,
    ROOMS.DW_CITY_BIG_1_ORIGINAL,
    ROOMS.DW_CITY_TRAFFIC_2_OLD,
    ROOMS.DW_CITY_BIG_2_OG,
    ROOMS.DW_CITY_MICE2_OG,
    ROOMS.DW_MANSION_EAST_TEACUP_4_OLD,
    ROOMS.DW_CYBER_TEACUP_1,
    ROOMS.DW_CYBER_VIROMAZE2,
    ROOMS.DW_CITY_TRAFFIC_5_OLD,
    ROOMS.DW_MANSION_DINING_STORAGE_OLD,
    ROOMS.DW_CYBER_VIROVIROKUN_FIGHT,
    ROOMS.DW_MANSION_EAST_2F_D_BACKUP,
    ROOMS.DW_CITY_TRAFFIC_3_BACKUP,
    ROOMS.CC_LANCER_CH2,
    ROOMS.CC_CLOVER_CH2,
    ROOMS.CC_FOUNTAIN_CH2,
    ROOMS.DW_CITY_BIG_3_OG,
    ROOMS.DW_MANSION_BRIDGESOLD,
    ROOMS.DW_CITY_SIDEWAYSCARS,
    ROOMS.TRANSFORMATION_SEQUENCE,
    ROOMS.DW_MANSION_GIGAQUEEN,
    ROOMS.MUSICAL_SYNC_TEST,
  ]),
  flags: new Set<FlagIndex>([
    ...CH1_CONTENT.flags,
    FLAGS.DOOR_FREEZE_TIMER,
    FLAGS.DISABLE_X_SLOWING,
    FLAGS.CAN_PARTY_ACT,
    FLAGS.GAMEOVER_MODE,
    FLAGS.DOJO_FAILURE,
    FLAGS.DOJO_ACTIVE,
    FLAGS.NO_BATTLE_END_MSG,
    FLAGS.DOJO_ABORT,
    FLAGS.KILLS,
    FLAGS.FREEZES,
    FLAGS.ENCOUNTER_POINTER,
    FLAGS.ENEMY_X,
    FLAGS.ENEMY_Y,
    FLAGS.DOJO_NEXT_ENCOUNTER,
    FLAGS.DISABLE_RECRUITING,
    FLAGS.NONNARR_INTRO_TEXT,
    FLAGS.VIOLENCED_LAST,
    FLAGS.STORAGE_SIZE,
    FLAGS.TOTAL_LEVELED_COUNT,
    FLAGS.TIMES_LEVELED_CH2,
    FLAGS.GOT_NUBERT_TREASURE,
    FLAGS.GOT_CH2_MINT,
    FLAGS.GOT_DUST_FAKE,
    FLAGS.GOT_PAINTING_MINT,
    FLAGS.GOT_MANSION_GLOWSHARD,
    FLAGS.GOT_SPAMTON_CHEST,
    FLAGS.HUGGED_DUMMY,
    FLAGS.TALKED_KING_PROLOGUE,
    FLAGS.TOY_DELIVER_PROGRESS,
    FLAGS.BEEN_CALLED_NORMAL,
    FLAGS.SUSIE_ATE_CAKE,
    FLAGS.TOLD_MOM_STUDYING,
    FLAGS.TOLD_MOM_ORB,
    FLAGS.CARNIVAL_GIFT,
    FLAGS.SEEN_EGGS_HUSBAND,
    FLAGS.SPAMTON_PROGRESS,
    FLAGS.FIRST_CHEESE_DESTROYED,
    FLAGS.DESTROYED_CHEESE_ALONE,
    FLAGS.TALKED_SEAM_CH2,
    FLAGS.GOT_SPINCAKE_CH2,
    FLAGS.MR_SOCIETY_LEFT,
    FLAGS.SEEN_SHELTER_SCENE,
    FLAGS.SEEN_HOSPITAL_SCENE,
    FLAGS.SEEN_POLICE_SCENE,
    FLAGS.FERRIS_SCENE_PLOT,
    FLAGS.TALKED_QUEENIE_BEANIE,
    FLAGS.SPAMTON_STRESS_RESPONSE,
    FLAGS.RALSEI_PHOTO_STATUS,
    FLAGS.ROUXLS_PIRATE_HAT,
    FLAGS.INTERACTED_HATHYX_WWW,
    FLAGS.TALKED_SPAMTON_KNIGHT,
    FLAGS.FOUND_TASQUE_SWITCH,
    FLAGS.SEEN_FERRIS_SCENE,
    FLAGS.FOUND_MAZE_SWITCH,
    FLAGS.SOLVED_AGREE2ALL,
    FLAGS.SHOVEL_DOOR_OPEN,
    FLAGS.SUSIE_AVOID_ALPHYS,
    FLAGS.TALKED_ALVIN,
    FLAGS.FOUND_BASEMENT_SWITCH,
    FLAGS.FOUND_SHORTCUT_OUT,
    FLAGS.SUSIE_AVOID_CATTI,
    FLAGS.CHOCOLATES_WHO_GAVE,
    FLAGS.MADE_HIGH_FIVE,
    FLAGS.SOLVED_SAUCER_PUZZLE,
    FLAGS.SEEN_TOILET_STATUE,
    FLAGS.SOLVED_SAUCER_SHORTCUT,
    FLAGS.TIMES_SEEN_STATUE,
    FLAGS.FROZEN_CHICKEN,
    FLAGS.HATBOY_PLUGGED,
    FLAGS.MAZE_HINT_DEBUG,
    FLAGS.SOLVED_VIRO_DODGE,
    FLAGS.TALK_TWO_CRYSTALS,
    FLAGS.BAGELS_PURCHASED,
    FLAGS.LANCER_CARED_FOR,
    FLAGS.RECRUITED_HACKER,
    FLAGS.ENTERED_BASEMENT,
    FLAGS.MET_HACKER,
    FLAGS.APPROACHED_CHEESE_MAZE,
    FLAGS.DID_RIGHT_CHEESE_FIGHT,
    FLAGS.MAUSWHEEL_DEFEATED,
    FLAGS.TASQUE_RELEASED,
    FLAGS.GOT_CHESTMARK,
    FLAGS.SOLVED_MICE_2,
    FLAGS.SAW_RALSUSIE,
    FLAGS.SOLVED_MANSION_TRAFFIC,
    FLAGS.FOUGHT_TASQUE_MANAGER,
    FLAGS.UNLOCKED_EAST_BASEMENT,
    FLAGS.MICE_GOT_20,
    FLAGS.MICE_GOT_1,
    FLAGS.FUNNY_BUTLER_PROGRESS,
    FLAGS.MOUSELOTTERY_SOLVED,
    FLAGS.MOUSELOTTERY_SOLVED_2,
    FLAGS.NOELLE_BEAT_FEAR,
    FLAGS.CALLED_MOM_AFTER_LAB,
    FLAGS.DOG_OPENED_DOOR,
    FLAGS.DINING_HALL_COMPLETE,
    FLAGS.SOLVED_FORCEFIELD_1,
    FLAGS.FOUGHT_CHEESE_MAZE,
    FLAGS.BALANCE_POT_STATUS,
    FLAGS.VISITED_SPAMTON,
    FLAGS.RETURNED_CASTLE_TOWN,
    FLAGS.GOT_NO_RECRUITS,
    FLAGS.FOUGHT_BRIDGE_WEREWIRE,
    FLAGS.SOLVED_APPLE_PUZZLE,
    FLAGS.FOUGHT_FIRST_VIRO,
    FLAGS.BOOKCASE_OVERRIDE_3F,
    FLAGS.STOLE_SUSIE_STATUE,
    FLAGS.STOLE_ICE_E_STATUE,
    FLAGS.OPENED_SIDEA_PAINTING,
    FLAGS.OPENED_SIDEB_PAINTING,
    FLAGS.PAINTINGS_ACTIVE,
    FLAGS.ACTIVATED_MINT_PAINTING,
    FLAGS.ACTIVATED_PAINTING_EXIT,
    FLAGS.VASE_INTRO_STATUS,
    FLAGS.GOT_CHESTMARK_2,
    FLAGS.SEEN_DJS_FLYBY,
    FLAGS.INSPECTED_BED_KRIS,
    FLAGS.INSPECTED_BED_SUSIE,
    FLAGS.INSPECTED_BED_LANCER,
    FLAGS.INSPECTED_BED_CLOVER,
    FLAGS.INSPECTED_BED_NOELLE,
    FLAGS.INSPECTED_BEDS_CH2,
    FLAGS.MICE_ATTACK_REASON,
    FLAGS.FIELD_TEMPSAVE,
    FLAGS.TRASH_TEMPSAVE,
    FLAGS.GOT_SHOE,
    FLAGS.TASQUE_MANAGER_RESPONSE,
    FLAGS.GIASFELFEBREHBER,
    FLAGS.NOELLE_FRIEND,
    FLAGS.TALKED_METTATON,
    FLAGS.STOLEN_BAGELS,
    FLAGS.ONION_CH2,
    FLAGS.ONION_MISSED,
    FLAGS.SWATCHLING_COMBO,
    FLAGS.UNLOCKED_MINT_CHEST,
    FLAGS.SAW_SWEET,
    FLAGS.STATUE_SINK_PROGRESS,
    FLAGS.TOOK_ASRIEL_MONEY,
    FLAGS.TALKED_JOE_CH2,
    FLAGS.TOLD_TO_EXPLORE,
    FLAGS.TOLD_TO_RUN_CH2,
    FLAGS.TALKED_OUR_DEAL,
    FLAGS.HOUSE_GAME_WINNER,
    FLAGS.CALLED_MOM_BUSY,
    FLAGS.FAVE_PARTY_MEMBER_2,
    FLAGS.TUTOR_VIRO_LOCATION,
    FLAGS.DEPOSITED_CH2_EGG,
    FLAGS.INTERACTED_FERRIS_POSTER,
    FLAGS.TALKED_FRIEND_ADDISON,
    FLAGS.LEARNED_TEACUPS,
    FLAGS.TOLD_SAVE_TOWN,
    FLAGS.TOLD_VISIT_TOWN,
    FLAGS.READ_CLEANING_POSTER,
    FLAGS.WENT_WEIRD_DOOR,
    FLAGS.BROKE_BALLOON_CHEESE,
    FLAGS.FINISHED_BIG_FORCEFIELD,
    FLAGS.EASTER_EGG_FORCEFIELD,
    FLAGS.EASTER_TEACUP_PLOT,
    FLAGS.TALKED_ABOUT_PAP,
    FLAGS.TOLD_WRONGWAY,
    FLAGS.TALKED_SNOWGRAVE_NEO,
    FLAGS.GOT_DEALMAKER,
    FLAGS.RIDE_WITH_ME,
    FLAGS.BEAT_SNOWGRAVE_NEO,
    FLAGS.BERDLY_BROKEN_ARM,
    FLAGS.HOUSES_HIT,
    FLAGS.PUT_DISK_MANNEQUIN,
    FLAGS.GOT_JEVIL_HOLE,
    FLAGS.INTERACTED_SINK_CH2,
    FLAGS.CARS_HIT_COUNT,
    FLAGS.READ_CYBERPEDIA,
    FLAGS.TALKED_SWATCH,
    FLAGS.CAR_PART_COMPLETED,
    FLAGS.JUNKBALL_DROPPED,
    FLAGS.CHESTMARK_OPENED,
    FLAGS.SPAMTON_NO_ROOM,
    FLAGS.CANT_GO_BACK_TIP,
    FLAGS.ENCOUNT_FIRST_TASQ,
    FLAGS.ENCOUNT_FIRST_VIRO,
    FLAGS.ENCOUNT_SMORGAS_2,
    FLAGS.ENCOUNT_BERDLY_1,
    FLAGS.ENCOUNT_TUTOR_VIRO,
    FLAGS.ENCOUNT_AMBULANCE,
    FLAGS.ENCOUNT_ANTIVIRUS,
    FLAGS.ENCOUNT_GLOWWRIST_TASQ,
    FLAGS.ENCOUNT_BUTLERS_1,
    FLAGS.ENCOUNT_BUTLERS_MANY,
    FLAGS.ENCOUNT_TASK_MANAGER,
    FLAGS.ENCOUNT_RUN_BUTLERS,
    FLAGS.ENCOUNT_QUEEN,
    FLAGS.ENCOUNT_BERDLY_2,
    FLAGS.ENCOUNT_TRASH_POPUP,
    FLAGS.ENCOUNT_TRASH_VIRO,
    FLAGS.ENCOUNT_TRASH_WW,
    FLAGS.ENCOUNT_ROAD_MEDIC,
    FLAGS.ENCOUNT_ROAD_TASQUE,
    FLAGS.ENCOUNT_ROAD_VIRO,
    FLAGS.ENCOUNT_ROAD_WW,
    FLAGS.ENCOUNT_SPAMTON_NEO,
    FLAGS.RECRUIT_RUDINN,
    FLAGS.RECRUIT_HATHY,
    FLAGS.RECRUIT_PONMAN,
    FLAGS.RECRUIT_RABBICK,
    FLAGS.RECRUIT_BLOXER,
    FLAGS.RECRUIT_JIGSAWRY,
    FLAGS.RECRUIT_RUDINN_RANGER,
    FLAGS.RECRUIT_HEAD_HATHY,
    FLAGS.RECRUIT_AMBYU_LANCE,
    FLAGS.RECRUIT_POPPUP,
    FLAGS.RECRUIT_TASQUE,
    FLAGS.RECRUIT_WEREWIRE,
    FLAGS.RECRUIT_MAUS,
    FLAGS.RECRUIT_VIROVIROKUN,
    FLAGS.RECRUIT_SWATCHLING,
    FLAGS.RECRUIT_WEREWEREWIRE,
    FLAGS.RECRUIT_TASQUE_MANAGER,
    FLAGS.RECRUIT_MAUSWHEEL,
    FLAGS.RECRUIT_ROUXLS_1,
    FLAGS.RECRUIT_BERDLY_2,
    FLAGS.RECRUIT_CLOVER_DOJO,
    FLAGS.RECRUIT_QUEEN,
    FLAGS.RECRUIT_SPAMTON,
    FLAGS.RECRUIT_SPAMTON_NEO,
    FLAGS.RECRUIT_GIGA_QUEEN,
    FLAGS.RECRUIT_JIGSAW_JOE_DOJO,
    FLAGS.RECRUIT_PIPIS,
    FLAGS.CAFE_TOPLEFT,
    FLAGS.CAFE_TOPRIGHT,
    FLAGS.CAFE_BOTTOMLEFT,
    FLAGS.CAFE_BOTTOMRIGHT,
    FLAGS.BEAT_GRAZING,
    FLAGS.BEAT_DOJO_CLOVER,
    FLAGS.BEAT_TM_SAYS,
    FLAGS.BEAT_ALLSTARS,
    FLAGS.BEAT_JOE,
    FLAGS.EGG_CH1,
    FLAGS.INTERACTED_MAN_CAR,
    FLAGS.SINCE_CHAPTER,
    FLAGS.WEIRDROUTE_PROGRESS_CH2,
    FLAGS.WEIRDROUTE_FAILED,
    FLAGS.EGG_ROOM_CH2,
    FLAGS.GOT_CH2_EGG,
    FLAGS.TIMES_NOELLE_LEVELED,
    FLAGS.GOT_MOSS_CH2,
    FLAGS.GOT_MOSS_WITH_NOELLE,
    FLAGS.GOT_MOSS_WITH_SUSIE,
    FLAGS.FORGOT_RING,
    FLAGS.SNOWGRAVE_ATTEMPTS,
    FLAGS.NOELLE_ICE_SHOCK_COUNT,
    FLAGS.ICESHOCKED_ENCOUNTERS,
    FLAGS.CREEPY_STEPS,
    FLAGS.SHADOW_FAILED_CH2,
    FLAGS.GLASS_FAILED_CH2,
    FLAGS.SHADOW_LAB,
    FLAGS.GLASS_SUSIE_GLARE,
    FLAGS.GAVE_JEVIL_CRYSTAL,
    FLAGS.FAILED_SPAM_CRYSTAL,
  ]),
  enemies: new Set<EnemyIndex>([
    ...CH1_CONTENT.enemies,
    ENEMIES.AMBYU_LANCE,
    ENEMIES.POPPUP,
    ENEMIES.TASQUE,
    ENEMIES.WEREWIRE,
    ENEMIES.MAUS,
    ENEMIES.VIROVIROKUN,
    ENEMIES.SWATCHLING,
    ENEMIES.CAPN,
    ENEMIES.K_K,
    ENEMIES.SWEET,
    ENEMIES.WEREWEREWIRE,
    ENEMIES.GRAZETEST,
    ENEMIES.TASQUE_MANAGER,
    ENEMIES.BERDLY_1,
    ENEMIES.MAUSWHEEL,
    ENEMIES.ROUXLS_1,
    ENEMIES.BERDLY_2,
    ENEMIES.CLOVER_DOJO,
    ENEMIES.QUEEN,
    ENEMIES.SPAMTON,
    ENEMIES.SPAMTON_NEO,
    ENEMIES.GIGA_QUEEN,
    ENEMIES.JIGSAW_JOE_DOJO,
    ENEMIES.PIPIS,
  ]),
};

const CH3_CONTENT: ChapterContent = {
  meta: {
    consumablesSize: 12,
    storagesSize: 24,
    keyItemsSize: 12,
    weaponsSize: 48,
    armorsSize: 48,
  },
  characters: new Set<CharacterIndex>([...CH2_CONTENT.characters]),
  consumables: new Set([
    ...CH2_CONTENT.consumables,
    CONSUMABLES.TVDINNER,
    CONSUMABLES.PIPIS,
    CONSUMABLES.FLATSODA,
    CONSUMABLES.TVSLOP,
    CONSUMABLES.EXECBUFFET,
    CONSUMABLES.DELUXEDINNER,
  ]),
  keyItems: new Set<KeyItemIndex>([
    ...CH2_CONTENT.keyItems,
    KEYITEMS.ODD_CONTROLLER,
    KEYITEMS.BACKSTAGE_PASS,
    KEYITEMS.TRIP_TICKET,
    KEYITEMS.LANCER_CON,
  ]),
  spells: new Set<SpellIndex>([...CH2_CONTENT.spells]),
  weapons: new Set<WeaponIndex>([
    ...CH2_CONTENT.weapons,
    WEAPONS.SABER10,
    WEAPONS.TOXIC_AXE,
    WEAPONS.FLEX_SCARF,
    WEAPONS.BLACK_SHARD,
  ]),
  armors: new Set<ArmorIndex>([
    ...CH2_CONTENT.armors,
    ARMORS.SHADOW_MANTLE,
    ARMORS.LODE_STONE,
    ARMORS.GINGER_GUARD,
    ARMORS.BLUE_RIBBON,
    ARMORS.TENNA_TIE,
  ]),
  lightWorld: {
    items: new Set<LightWorldItemIndex>([...CH2_CONTENT.lightWorld.items]),
    phoneContacts: new Set<PhoneContactIndex>([
      ...CH2_CONTENT.lightWorld.phoneContacts,
    ]),
  },
  rooms: new Set<RoomIndex>([
    ROOMS.DW_TV_CUTSCENE1G,
    ROOMS.DW_RHYTHM,
    ROOMS.DW_COUCH_OVERWORLD_INTRO,
    ROOMS.DW_COUCH_OVERWORLD_01,
    ROOMS.DW_COUCH_OVERWORLD_02,
    ROOMS.DW_COUCH_OVERWORLD_03,
    ROOMS.DW_COUCH_OVERWORLD_04,
    ROOMS.DW_COUCH_OVERWORLD_05,
    ROOMS.DW_NONDESCRIPT_ROOM,
    ROOMS.DW_NONDESCRIPT_FIELD,
    ROOMS.DW_NONDESCRIPT_HALLWAY,
    ROOMS.DW_NONDESCRIPT_CLASSROOM,
    ROOMS.DW_BACKSTAGE,
    ROOMS.DW_SNOW_ZONE,
    ROOMS.TOWN_KRISYARD_DARK,
    ROOMS.BOARD_1,
    ROOMS.BOARD_DUNGEON_2,
    ROOMS.BOARD_DUNGEON_3,
    ROOMS.BOARD_PRESHADOWMANTLE,
    ROOMS.SHADOWMANTLE,
    ROOMS.BOARD_PREPOSTSHADOWMANTLE,
    ROOMS.BOARD_POSTSHADOWMANTLE,
    ROOMS.DW_CH3_MAN,
    ROOMS.SUSIEZILLA,
    ROOMS.BOARD_INTRO,
    ROOMS.TORHOUSE_SEPIA,
    ROOMS.CH3_GAMESHOWROOM,
    ROOMS.SHOOTOUT,
    ROOMS.BOARD_PRESHADOWMANTLE_REPEAT,
    ROOMS.DW_GREEN_ROOM,
    ROOMS.BOARD_1_SWORD,
    ROOMS.BOARD_SWORD_INTRO,
    ROOMS.BOARD_1_SWORD_TREES,
    ROOMS.DW_CHANGING_ROOM,
    ROOMS.DW_CONSOLE_ROOM,
    ROOMS.BOARD_2,
    ROOMS.DW_TV_CLOSET,
    ROOMS.BOARD_3,
    ROOMS.DW_B3BS_INTERSTITIAL,
    ROOMS.BOARD_2_SWORD,
    ROOMS.BOARD_EMPTY,
    ROOMS.DW_B3BS_ROUXLS_LANINA,
    ROOMS.DW_B3BS_ROUXLS_BOSS,
    ROOMS.DW_B3BS_CHEATERPIPPINS,
    ROOMS.DW_B3BS_IDCARDPUZZLE,
    ROOMS.DW_B3BS_INTRO,
    ROOMS.DW_B3BS_ZAPPER_A,
    ROOMS.DW_B3BS_RABBICK_A,
    ROOMS.DW_B3BS_LANCERGET,
    ROOMS.DW_B3BS_COOLTRASHY,
    ROOMS.DW_B3BS_ZAPPER_C,
    ROOMS.DW_B3BS_RABBICK_B,
    ROOMS.DW_B3BS_SADSHADOWGUYS,
    ROOMS.DW_B3BS_ZAPPER_B,
    ROOMS.DW_SUSIEZILLA,
    ROOMS.DW_INBETWEEN,
    ROOMS.DW_TEEVIE_PREVIEW,
    ROOMS.DW_CHEF,
    ROOMS.DW_PUZZLECLOSET_1,
    ROOMS.DW_PUZZLECLOSET_2,
    ROOMS.DW_CHEF_EMPTY,
    ROOMS.DW_SUSIEZILLA_EMPTY,
    ROOMS.DW_RHYTHM_EMPTY,
    ROOMS.BOARD_3B,
    ROOMS.DW_B3BS_JAIL1,
    ROOMS.DW_B3BS_SHOP,
    ROOMS.DW_B3BS_MYSTERYPUZZLE,
    ROOMS.DW_B3BS_WATERCOOLER,
    ROOMS.DW_B3BS_JAIL2,
    ROOMS.DW_B3BS_ZAPPER_D,
    ROOMS.DW_B3BS_EXTRAPUZZLE,
    ROOMS.DW_B3BS_BIBLIOX,
    ROOMS.BOARD_3_SWORD,
    ROOMS.DW_COUCH_POINTS,
    ROOMS.DW_COUCH_OVERWORLD_INTRO_LEFT,
    ROOMS.DW_COUCH_VIDEO,
    ROOMS.DW_SNOW_ZONE_BATTLE,
    ROOMS.DW_PUZZLECLOSET_0,
    ROOMS.BOARD_GSA02_B0,
    ROOMS.DW_TV_CURTAIN,
    ROOMS.DW_TEEVIE_INTRO,
    ROOMS.DW_TEEVIE_LARGE_01,
    ROOMS.DW_TEEVIE_LARGE_02,
    ROOMS.DW_TEEVIE_COWBOY_ZONE_01_INTRO,
    ROOMS.DW_TEEVIE_COWBOY_ZONE_01_AFTER,
    ROOMS.DW_TEEVIE_WATERCOOLER,
    ROOMS.DW_TEEVIE_SUSIEZILLA,
    ROOMS.DW_TEEVIE_COWBOY_ZONE_02_INTRO,
    ROOMS.DW_TEEVIE_COWBOY_ZONE_02_AFTER,
    ROOMS.DW_TEEVIE_SHADOW_GUYS,
    ROOMS.DW_TEEVIE_STEALTH_C,
    ROOMS.DW_TEEVIE_STEALTH,
    ROOMS.DW_TEEVIE_FAILURE_CAGE,
    ROOMS.DW_TEEVIE_RHYTHM,
    ROOMS.DW_TEEVIE_MAZE_POINTS,
    ROOMS.DW_TEEVIE_MAZE_CHEF,
    ROOMS.DW_TEEVIE_MAZE_FINAL,
    ROOMS.DW_TEEVIE_MAZE,
    ROOMS.DW_TEEVIE_CHEF,
    ROOMS.DW_TEEVIE_CUTSCENE_FINAL,
    ROOMS.DW_TEEVIE_RIBBICK,
    ROOMS.DW_TEEVIE_PREVIEW_SOUTH,
    ROOMS.DW_B3BS_CAMERAREMINDER,
    ROOMS.DW_PUZZLECLOSET_3,
    ROOMS.DW_TEEVIE_SAMS,
    ROOMS.DW_TEEVIE_BONUS_ZONE,
    ROOMS.DW_TEEVIE_AUDIENCEPITS,
    ROOMS.DW_TEEVIE_LIGHTMAZE,
    ROOMS.DW_TEEVIE_MAZE_QUIZ,
    ROOMS.DW_RANKING_HUB,
    ROOMS.DW_RANKING_A,
    ROOMS.DW_RANKING_B,
    ROOMS.DW_RANKING_C,
    ROOMS.DW_RANKING_Z,
    ROOMS.DW_RANKING_Z_HALLWAY,
    ROOMS.DW_TEEVIE_RIBBICKS_A,
    ROOMS.DW_TEEVIE_RIBBICKS_B,
    ROOMS.DW_TEEVIE_SUSIEBRIDGE,
    ROOMS.DW_TEEVIE_SHUTTAHMAZE,
    ROOMS.DW_TEEVIE_STEALTH_D,
    ROOMS.DW_TEEVIE_DUST,
    ROOMS.DW_TEEVIE_DUST_SOUTH,
    ROOMS.CH3_GACHAROOM_UNKNOWN,
    ROOMS.DW_RANKING_T,
    ROOMS.DW_PUZZLECLOSET_1A,
    ROOMS.DW_RHYTHM_COUNTDOWN,
    ROOMS.DW_SNOW_ZONE_EAST_DOOR,
    ROOMS.DW_INBETWEENHALL,
    ROOMS.PLACE_DOGCHECK2,
    ROOMS.ROOM_INITIALIZE,
    ROOMS.PLACE_CONTACT,
    ROOMS.KRISROOM_CH2,
    ROOMS.KRISHALLWAY_CH2,
    ROOMS.TORROOM_CH2,
    ROOMS.TORHOUSE_CH2,
    ROOMS.TORBATHROOM_CH2,
    ROOMS.TOWN_KRISYARD_CH2,
    ROOMS.TOWN_NORTHWEST_CH2,
    ROOMS.TOWN_NORTH_CH2,
    ROOMS.BEACH_CH2,
    ROOMS.TOWN_MID_CH2,
    ROOMS.TOWN_APARTMENTS_CH2,
    ROOMS.TOWN_SOUTH_CH2,
    ROOMS.TOWN_SCHOOL_CH2,
    ROOMS.TOWN_CHURCH_CH2,
    ROOMS.GRAVEYARD_CH2,
    ROOMS.TOWN_SHELTER_CH2,
    ROOMS.HOSPITAL_LOBBY_CH2,
    ROOMS.HOSPITAL_HALLWAY_CH2,
    ROOMS.HOSPITAL_RUDY_CH2,
    ROOMS.HOSPITAL_ROOM2,
    ROOMS.DINER,
    ROOMS.TOWNHALL,
    ROOMS.FLOWERSHOP_1F,
    ROOMS.FLOWERSHOP_2F,
    ROOMS.LIBRARY,
    ROOMS.ALPHYSALLEY,
    ROOMS.LW_COMPUTER_LAB,
    ROOMS.LW_LIBRARY_UPSTAIRS,
    ROOMS.LW_POLICE,
    ROOMS.LW_CONBINI,
    ROOMS.LW_ICEE_PIZZA,
    ROOMS.TORIELCLASS_CH2,
    ROOMS.SCHOOLLOBBY_CH2,
    ROOMS.ALPHYSCLASS_CH2,
    ROOMS.SCHOOLDOOR_CH2,
    ROOMS.INSIDECLOSET_CH2,
    ROOMS.SCHOOL_UNUSEDROOM_CH2,
    ROOMS.CASTLE_TUTORIAL_CH2,
    ROOMS.DW_CASTLE_EAST_DOOR,
    ROOMS.DW_CASTLE_WEST_CLIFF,
    ROOMS.DW_CASTLE_AREA_1,
    ROOMS.DW_RALSEI_CASTLE_FRONT,
    ROOMS.DW_CASTLE_RESTAURANT,
    ROOMS.DW_CASTLE_CAFE,
    ROOMS.DW_CASTLE_DOJO,
    ROOMS.DW_RALSEI_CASTLE_1F,
    ROOMS.DW_RALSEI_CASTLE_2F,
    ROOMS.DW_CASTLE_DUNGEON,
    ROOMS.DW_CASTLE_ROOMS_KRIS,
    ROOMS.DW_CASTLE_ROOMS_SUSIE,
    ROOMS.PLACE_DOG,
    ROOMS.LEGEND,
    ROOMS.LEGEND_NEO,
    ROOMS.SHOP1,
    ROOMS.GAMEOVER,
    ROOMS.PLACE_LOGO,
    ROOMS.PLACE_FAILURE,
    ROOMS.PLACE_NAMING_JIKKEN,
    ROOMS.PLACE_MENU,
    ROOMS.ED,
    ROOMS.EMPTY_CH2,
    ROOMS.CC_LANCER_CH2,
    ROOMS.CC_CLOVER_CH2,
    ROOMS.CC_FOUNTAIN_CH2,
  ]),
  flags: new Set<FlagIndex>([
    ...CH2_CONTENT.flags,
    FLAGS.LAST_ENCOUNTER_TP,
    FLAGS.PIPPINS_R_ACT,
    FLAGS.PIPPINS_S_ACT,
    FLAGS.SHUTTAH_S_ACT,
    FLAGS.SHUTTAH_R_ACT,
    FLAGS.SHUTTAH_KRIS_PIC,
    FLAGS.SHUTTAH_SUSIE_PIC,
    FLAGS.SHUTTAH_RALSEI_PIC,
    FLAGS.ENCOUNT_CH3_580,
    FLAGS.ENCOUNT_CH3_581,
    FLAGS.ENCOUNT_CH3_582,
    FLAGS.ENCOUNT_CH3_583,
    FLAGS.ENCOUNT_CH3_584,
    FLAGS.ENCOUNT_ZAPPER_SHUTTAH,
    FLAGS.ENCOUNT_FIRST_WATERCOOLER,
    FLAGS.ENCOUNT_CH3_588,
    FLAGS.ENCOUNT_FIRST_ZAPPER,
    FLAGS.ENCOUNT_FIRST_SHADOWGUY,
    FLAGS.ENCOUNT_FIRST_RIBBICK,
    FLAGS.ENCOUNT_SECOND_WATERCOOLER,
    FLAGS.ENCOUNT_SECOND_RIBBICK,
    FLAGS.RECRUIT_SHADOWGUY,
    FLAGS.RECRUIT_SHUTTAH,
    FLAGS.RECRUIT_ZAPPER,
    FLAGS.RECRUIT_RIBBICK,
    FLAGS.RECRUIT_WATERCOOLER,
    FLAGS.RECRUIT_PIPPINS,
    FLAGS.RECRUIT_ELNINA,
    FLAGS.RECRUIT_LANINO,
    FLAGS.RAL_SUSIE_FESTIVAL_TALK,
    FLAGS.EGG_CH3,
    FLAGS.PYRAMID_PUZZLE_STATE,
    FLAGS.SHADOWMANTLE_BATTLE,
    FLAGS.TENNA_BOARD_LOSSES,
    FLAGS.MAZE_CROWD_TREASURE,
    FLAGS.MAZE_CROWD_FOUND,
    FLAGS.FOREST_CUT_ROOMS,
    FLAGS.SWORDROUTE_KICKED,
    FLAGS.SHADOW_TEASER_FOUND,
    FLAGS.SHADOW_EYES_SEEN,
    FLAGS.SHADOW_GRIN_SEEN,
    FLAGS.GAMESHOW_BATTLES_COUNT,
    FLAGS.GAMESHOW_LETTER_FIRST,
    FLAGS.GAMESHOW_LETTER_SECOND,
    FLAGS.GAMESHOW_LETTER_THIRD,
    FLAGS.STOOL_BOARD_FLAG,
    FLAGS.BOARD_CAMERA_FLAG,
    FLAGS.WEATHER_FAVORITE,
    FLAGS.PREEGG_BOARD_TRIED,
    FLAGS.QUIZ_CORRECT_ANSWERS,
    FLAGS.SUSIE_POWER_CROISSANT,
    FLAGS.CH3_COUCH_WALKING,
    FLAGS.TENNA_LEFT_BOARD,
    FLAGS.DISABLE_GRAB_RALSEI,
    FLAGS.BOARD_TRANSITION_FREEZE,
    FLAGS.BOARD_KEY_TRACKER,
    FLAGS.HOOKSHOT_FLAG,
    FLAGS.S_STAR_FALLEN,
    FLAGS.RAMB_BACKSTAGE_TALK,
    FLAGS.ENTERED_RANK_ROOM,
    FLAGS.RAMB_FIRST_TALKED,
    FLAGS.RACING_GAME_TRIED,
    FLAGS.RACING_GAME_PLAYS,
    FLAGS.RACING_GAME_WON,
    FLAGS.ARMOR_INFO_STATE,
    FLAGS.RALSEI_CHEER_EQUIPS,
    FLAGS.PIPIS_INVENTORY_SOUNDS,
    FLAGS.TENNA_PIPIS_BONUS,
    FLAGS.HERO_PHOTO_TAKEN,
    FLAGS.HALF_FLOWER_PHOTO,
    FLAGS.SPRING_PHOTO_TAKEN,
    FLAGS.CACTUS_PHOTO_TAKEN,
    FLAGS.CH3_POINTS,
    FLAGS.SUSIE_HEAL_COUNT,
    FLAGS.KNIGHT_FIGHT,
    FLAGS.LANCER_PURCHASE_COST,
    FLAGS.BOARD_1_BATTLES_COUNT,
    FLAGS.SHADOWMANTLE_DEFEATED,
    FLAGS.CHEATER_ADMITS_COUNT,
    FLAGS.TENNA_DELETED_GRASS,
    FLAGS.GAMESHOW_VOLATILE_STATE,
    FLAGS.TENNA_VOICE_MOD,
    FLAGS.SWORD_PROGRESS,
    FLAGS.KRIS_TENNA_TALKED,
    FLAGS.BACKSTAGE_SEQUENCE,
    FLAGS.TROPIC_TENNA_FOUND,
    FLAGS.ROUXLS_CH3_BATTLE,
    FLAGS.ELNINA_CONTROLLER_GOT,
    FLAGS.SHADOWMEN_PHOTO_COUNT,
    FLAGS.GOT_CURTAIN_SABER,
    FLAGS.READABLE_1065,
    FLAGS.RAMB_FOUNTAIN_TALKED,
    FLAGS.GOT_SHADOWMANTLE_ITEM,
    FLAGS.LANCER_GREENROOM_TALKED,
    FLAGS.SKIPPED_INTRO_CH3,
    FLAGS.LANCER_QUIZ_NAME,
    FLAGS.S_RANK_ACCESS_1,
    FLAGS.S_RANK_ACCESS_2,
    FLAGS.COUNTERFEIT_RANK_1,
    FLAGS.COUNTERFEIT_RANK_2,
    FLAGS.GOT_MOSS_CH3,
    FLAGS.OASIS_DRAINED,
    FLAGS.SUSIEZILLA_LOSSES,
    FLAGS.SUSIEZILLA_RESULT,
    FLAGS.LANCER_NAME_QUESTION,
    FLAGS.RAMB_GAME_RESPONSE,
    FLAGS.UNUSED_PUZZLE_STARTED,
    FLAGS.DOOM_SHADOWMAN_BEAT,
    FLAGS.ICE_PALACE_ENTERED,
    FLAGS.CHEATED_DICE_VALUE,
    FLAGS.COOKING_LOSSES_COUNT,
    FLAGS.PARENT_LOCK_1_INTRO,
    FLAGS.SUSIE_SWORD_NOTICED,
    FLAGS.BIBLIOX_PROGRESS,
    FLAGS.CHEATER_JAILED,
    FLAGS.PARENTAL_LOCK_1_SOLVED,
    FLAGS.PARENTAL_LOCK_2_SOLVED,
    FLAGS.RHYTHM_GAME_ATTEMPTS,
    FLAGS.IDCARD_PUZZLE_FOUND,
    FLAGS.CHEATER_PIPPINS_FLED,
    FLAGS.LANCER_CONTROLLER_COUNT,
    FLAGS.POINT_CHEST_FOUND,
    FLAGS.ZAPPER_SNEEZED,
    FLAGS.ICE_KEY_MISSING,
    FLAGS.CUT_RIBBICK_ITEM,
    FLAGS.CUT_RIBBICK_FIGHTS,
    FLAGS.CUT_WEATHER_PUZZLE,
    FLAGS.LANINA_PUZZLE_FOUND,
    FLAGS.LANINA_PUZZLE_GRASS,
    FLAGS.PREEGG_BLOCK_X,
    FLAGS.PREEGG_BLOCK_Y,
    FLAGS.PREEGG_BLOCK_STATUS,
    FLAGS.NOWHERE_PUZZLE_SOLVED,
    FLAGS.GUARD_ZAPPER_BUTTONS,
    FLAGS.GUARD_ZAPPER_FOUGHT,
    FLAGS.MAILROOM_STATUS,
    FLAGS.BATTLE_POINTS_CURRENT,
    FLAGS.POINTS_SPENT_CURRENT,
    FLAGS.MINIGAME_POINTS_LAST,
    FLAGS.WATERCOOLER_BEG_COUNT,
    FLAGS.BOARD_KEY_ACTUAL,
    FLAGS.PARENTAL_ROOM_ENTERED,
    FLAGS.TENNA_FALLING_CALLED,
    FLAGS.COWBOY_GAME_STARTED,
    FLAGS.SNEAK_CAUGHT_TOPLEFT,
    FLAGS.SNEAK_CAUGHT_TOPRIGHT,
    FLAGS.SNEAK_CAUGHT_BOTLEFT,
    FLAGS.SNEAK_CAUGHT_HARD1,
    FLAGS.SNEAK_CAUGHT_HARD2,
    FLAGS.PARENTAL_LOCK_1_STARTED,
    FLAGS.PARENTAL_LOCK_2_STARTED,
    FLAGS.STEALTH_UNLOCKED,
    FLAGS.TODO_FLAG,
    FLAGS.TRASH_SWITCH_FOUND,
    FLAGS.WATERCOOLER_GOT_NOTHING,
    FLAGS.BIBLIOX_TALK_COUNT,
    FLAGS.CAMERA_REMINDER_SOLVED,
    FLAGS.WATERCOOLER_AVOID_COUNT,
    FLAGS.WATERCOOLER_2_FLIRTED,
    FLAGS.WATERCOOLER_DIALOGUE_STATE,
    FLAGS.CURTAIN_WATERCOOLER,
    FLAGS.LAWNMOWER_DESTROYED_PAPER,
    FLAGS.ROUXLS_SNACKS_STATUS,
    FLAGS.STEALTH_LIGHTMAZE_STATE,
    FLAGS.PARENTAL_LOCK_3_PROGRESS,
    FLAGS.SPAMTENNA_SCENE_SEEN,
    FLAGS.RALSEI_HORSE,
    FLAGS.HAY_SUSIE_REACTION,
    FLAGS.TENNA_BONUS_ENTERED,
    FLAGS.BONUS_BIG_CHEST,
    FLAGS.CH3_RECRUITS_CHECKED,
    FLAGS.LIGHTMAZE_ZAPPER_FOUGHT,
    FLAGS.LANINA_PUZZLE_POINTS,
    FLAGS.B3BS_RABBICK_STATE,
    FLAGS.BOARD_2_BATTLES_COUNT,
    FLAGS.TOTAL_BATTLES_EVALUATION,
    FLAGS.RANK_BOARD_1,
    FLAGS.RANK_BOARD_2,
    FLAGS.ODDCONTROLLER_STATE,
    FLAGS.GOT_TENNA_TIE,
    FLAGS.GOT_EXEC_BUFFET,
    FLAGS.GOT_TENSION_MAX,
    FLAGS.GOT_REVIVE_MINT,
    FLAGS.GOT_BLUE_RIBBON,
    FLAGS.GACHA_LAST_BET,
    FLAGS.SNEAKING_FAST,
    FLAGS.S_RANK_ROOM_ANSWER,
    FLAGS.S_RANK_RETURN_2,
    FLAGS.Z_RANK_DOOR_UNLOCK,
    FLAGS.WATERCOOLER_C_RANK,
    FLAGS.UNLOCKED_SUSIEZILLA,
    FLAGS.CONTROLS_UNJUMBLED,
    FLAGS.CH3_MANHOLE_USED,
    FLAGS.S_RANK_RETURN_3,
    FLAGS.SCORE_COOKING,
    FLAGS.RANK_COOKING,
    FLAGS.SCORE_LIGHTNERS_LIVE,
    FLAGS.RANK_LIGHTNERS_LIVE,
    FLAGS.SCORE_SUSIEZILLA,
    FLAGS.RANK_SUSIEZILLA,
    FLAGS.SUSIE_TENNA_CHAT_1,
    FLAGS.RALSEI_FACE_THOUGHTS,
    FLAGS.TENNA_OPINION_SUSIE,
    FLAGS.SUSIE_TENNA_CHAT_2,
    FLAGS.ELNINA_GREENROOM_TALK,
    FLAGS.LANINO_GREENROOM_TALK,
    FLAGS.SUSIEBRIDGE_STATE,
    FLAGS.WHO_ASKED_OKAY,
    FLAGS.SUSIE_REASSURANCE_RESPONSE,
    FLAGS.RALSEI_REASSURANCE_RESPONSE,
    FLAGS.ICECREAM_FOR_SUSIE,
    FLAGS.FESTIVAL_RALSEI_WHOELSE,
    FLAGS.SUSIEZILLA_TRIED,
    FLAGS.SUSIEZILLA_BEATEN,
    FLAGS.WATERCOOLER_CRATER_POINTS,
    FLAGS.GOT_GOLDEN_TENNA,
    FLAGS.ENTERED_1225_ROOM,
    FLAGS.BONUS_ZONE_OPENED,
    FLAGS.COLDPLACE_ENTERED,
    FLAGS.SNEAK_TIMES_CAUGHT,
    FLAGS.SNEAK_ZAPPER_STATE,
    FLAGS.PARENTAL_LOCK_3_DONE,
    FLAGS.COWBOY_GAME_2_STARTED,
    FLAGS.PARENTAL_LOCK_3_USED,
    FLAGS.SUSIEZILLA_BEST_TIME,
    FLAGS.TENNA_MAD_AT_STAFF,
    FLAGS.RAMB_QUIT_SCENE,
    FLAGS.ROUXLS_BLOCK_PURCHASED,
    FLAGS.RAMB_MOVED_FINAL,
    FLAGS.RAMB_PETRIFY_STORY,
    FLAGS.STARWALKER_CH3,
    FLAGS.RALSEI_SUSPECT_ZAPPER,
    FLAGS.BEST_FOOD_STACK,
    FLAGS.ZAPPER_JAIL_2_STATE,
    FLAGS.PARENTAL_CAMERA_GOT,
    FLAGS.PARENTAL_PHOTOS_NUM,
    FLAGS.LANCER_DIG_100,
    FLAGS.TIMES_LEVELED_CH3,
    FLAGS.JAIL_DINNER_TALKED,
    FLAGS.GOULDEN_SON_DESTINATION,
    FLAGS.STONE_LANCER_SEEN,
    FLAGS.SWORD_ROUTE_KILLS,
    FLAGS.GRASS_PLUCKED_COUNT,
    FLAGS.RALSEI_CARRIED_COUNT,
    FLAGS.CH3_RUN_REMINDER,
    FLAGS.CH3_RUN_REMINDER_2,
    FLAGS.RALSEI_EYE_PUZZLE_TALKED,
    FLAGS.SUSIE_EYE_PUZZLE_TALKED,
    FLAGS.PARENTAL_LOCK_1_CLOSE,
    FLAGS.KNIGHT_PEP_TALK,
    FLAGS.KNIGHT_DEATHS_COUNT,
    FLAGS.PHASER_CANNONS,
    FLAGS.RAMB_MOVED_2,
    FLAGS.LAWNMOWER_SCORE,
    FLAGS.MINI_ATTACK_SUSIE,
    FLAGS.SHADOW_HOME_SEEN,
    FLAGS.SHADOW_FAILED_CH3,
    FLAGS.GLASS_UNDYNE_FROZE,
    FLAGS.GLASS_FAILED_CH3,
    FLAGS.GAMESHOW_JAPANESE,
    FLAGS.GAMESHOW_NAME_1_BACKUP,
    FLAGS.GAMESHOW_NAME_2_BACKUP,
    FLAGS.GAMESHOW_NAME_3_BACKUP,
    FLAGS.PIPPINS_BONUS_STOLE,
    FLAGS.SWORDROUTE_SODA,
    FLAGS.RAISE_BAT_HARD_HISCORE,
    FLAGS.RAISE_BAT_HARD_HIRANK,
  ]),
  enemies: new Set<EnemyIndex>([
    ...CH2_CONTENT.enemies,
    ENEMIES.SHADOWGUY,
    ENEMIES.SHUTTAH,
    ENEMIES.ZAPPER,
    ENEMIES.RIBBICK,
    ENEMIES.WATERCOOLER,
    ENEMIES.PIPPINS,
    ENEMIES.ELNINA,
    ENEMIES.LANINO,
    ENEMIES.BOSS_2,
    ENEMIES.BOSS_3,
    ENEMIES.BOSS_4,
    ENEMIES.BOSS_5,
    ENEMIES.BOSS_6,
    ENEMIES.BOSS_7,
  ]),
};

const CH4_CONTENT: ChapterContent = {
  meta: {
    consumablesSize: 12,
    storagesSize: 36,
    keyItemsSize: 12,
    weaponsSize: 48,
    armorsSize: 48,
  },
  characters: new Set<CharacterIndex>([...CH3_CONTENT.characters]),
  consumables: new Set([
    ...CH3_CONTENT.consumables,
    CONSUMABLES.ANCIENTSWEET,
    CONSUMABLES.RHAPSOTEA,
    CONSUMABLES.SCARLIXIR,
    CONSUMABLES.BITTERTEAR,
  ]),
  keyItems: new Set<KeyItemIndex>([
    ...CH3_CONTENT.keyItems,
    KEYITEMS.SHEET_MUSIC,
    KEYITEMS.CLAIMB_CLAWS,
  ]),
  spells: new Set<SpellIndex>([...CH3_CONTENT.spells]),
  weapons: new Set<WeaponIndex>([
    ...CH3_CONTENT.weapons,
    WEAPONS.JINGLE_BLADE,
    WEAPONS.SCARF_MARK,
    WEAPONS.JUSTICE_AXE,
    WEAPONS.WINGLADE,
    WEAPONS.ABSORB_AX,
  ]),
  armors: new Set<ArmorIndex>([
    ...CH3_CONTENT.armors,
    ARMORS.WAFERGUARD,
    ARMORS.MYSTIC_BAND,
    ARMORS.POWER_BAND,
    ARMORS.PRINCESS_RBN,
    ARMORS.GOLD_WIDOW,
  ]),
  lightWorld: {
    items: new Set<LightWorldItemIndex>([
      ...CH3_CONTENT.lightWorld.items,
      LIGHTWORLDITEMS.HOLIDAY_PENCIL,
      LIGHTWORLDITEMS.CACTUSNEEDLE,
      LIGHTWORLDITEMS.BLACKSHARD,
      LIGHTWORLDITEMS.QUILLPEN,
    ]),
    phoneContacts: new Set<PhoneContactIndex>([
      ...CH3_CONTENT.lightWorld.phoneContacts,
    ]),
  },
  rooms: new Set<RoomIndex>([
    ROOMS.KRISROOM_CH4,
    ROOMS.KRISHALLWAY_CH4,
    ROOMS.TORROOM_CH4,
    ROOMS.TORHOUSE_CH4,
    ROOMS.TORBATHROOM_CH4,
    ROOMS.TOWN_KRISYARD_CH4,
    ROOMS.TOWN_NORTHWEST_CH4,
    ROOMS.TOWN_NORTH_CH4,
    ROOMS.BEACH_CH4,
    ROOMS.TOWN_MID_CH4,
    ROOMS.TOWN_APARTMENTS_CH4,
    ROOMS.TOWN_SOUTH_CH4,
    ROOMS.TOWN_SCHOOL_CH4,
    ROOMS.TOWN_CHURCH_CH4,
    ROOMS.GRAVEYARD_CH4,
    ROOMS.TOWN_SHELTER_CH4,
    ROOMS.HOSPITAL_LOBBY_CH4,
    ROOMS.HOSPITAL_HALLWAY_CH4,
    ROOMS.HOSPITAL_RUDY_CH4,
    ROOMS.HOSPITAL_ROOM2_CH4,
    ROOMS.DINER_CH4,
    ROOMS.TOWNHALL_CH4,
    ROOMS.FLOWERSHOP_1F_CH4,
    ROOMS.FLOWERSHOP_2F_CH4,
    ROOMS.LIBRARY_CH4,
    ROOMS.ALPHYSALLEY_CH4,
    ROOMS.LW_COMPUTER_LAB_CH4,
    ROOMS.LW_LIBRARY_UPSTAIRS_CH4,
    ROOMS.LW_POLICE_CH4,
    ROOMS.LW_CONBINI_CH4,
    ROOMS.LW_ICEE_PIZZA_CH4,
    ROOMS.LW_CHURCH_ENTRANCE,
    ROOMS.LW_CHURCH_MAIN,
    ROOMS.LW_NOELLEHOUSE_MAIN,
    ROOMS.LW_NOELLEHOUSE_KITCHEN,
    ROOMS.LW_NOELLEHOUSE_BATHROOM,
    ROOMS.LW_NOELLEHOUSE_KEYROOM,
    ROOMS.LW_NOELLEHOUSE_NOELLE,
    ROOMS.LW_NOELLEHOUSE_DESS,
    ROOMS.LW_NOELLEHOUSE_CLOSET,
    ROOMS.TORIELCLASS_CH4,
    ROOMS.SCHOOLLOBBY_CH4,
    ROOMS.ALPHYSCLASS_CH4,
    ROOMS.SCHOOLDOOR_CH4,
    ROOMS.INSIDECLOSET_CH4,
    ROOMS.SCHOOL_UNUSEDROOM_CH4,
    ROOMS.CASTLE_TUTORIAL_CH4,
    ROOMS.DW_CASTLE_EAST_DOOR_CH4,
    ROOMS.DW_CASTLE_WEST_CLIFF_CH4,
    ROOMS.DW_CASTLE_AREA_1_CH4,
    ROOMS.DW_CASTLE_TOWN_CH4,
    ROOMS.DW_RALSEI_CASTLE_FRONT_CH4,
    ROOMS.DW_CASTLE_RESTAURANT_CH4,
    ROOMS.DW_CASTLE_CAFE_CH4,
    ROOMS.DW_CASTLE_DOJO_CH4,
    ROOMS.DW_RALSEI_CASTLE_1F_CH4,
    ROOMS.DW_RALSEI_CASTLE_2F_CH4,
    ROOMS.DW_CASTLE_DUNGEON_CH4,
    ROOMS.DW_CASTLE_ROOMS_KRIS_CH4,
    ROOMS.DW_CASTLE_ROOMS_SUSIE_CH4,
    ROOMS.PLACE_MENU_CH4,
    ROOMS.CC_LANCER,
    ROOMS.CC_CLOVER,
    ROOMS.CC_FOUNTAIN,
    ROOMS.DW_CHURCH_SLIDINGBOOKSHELF,
    ROOMS.DW_CHURCH_BELLPLAY,
    ROOMS.INTRO_CH4,
    ROOMS.DW_CHURCH_CANDLELIGHTING,
    ROOMS.TOWN_NOELLEHOUSE,
    ROOMS.DW_CHURCH_INTRO1,
    ROOMS.DW_CHURCH_INTRO3,
    ROOMS.DW_CHURCH_INTRO_GUEI,
    ROOMS.DW_CHURCH_LANTERN_HALLWAY,
    ROOMS.DW_CHURCH_GERSONSTUDY,
    ROOMS.DW_CHURCH_STAIRS_WEST_BELL,
    ROOMS.DW_CHURCH_LIBRARYBOOKENEMY,
    ROOMS.DW_CHURCH_BOOKSHELFPUZZLE1,
    ROOMS.DW_CHURCH_BOOKSHELFPUZZLE2,
    ROOMS.DW_CHURCH_WORSHIPROOM,
    ROOMS.DW_CHURCH_SWINGINGBELL,
    ROOMS.DW_CHURCH_TALLBOOKCASES,
    ROOMS.DW_CHURCH_LANTERN2,
    ROOMS.DW_CHURCH_SMALLBELLS,
    ROOMS.DW_CHURCH_CLAW,
    ROOMS.DW_CHURCH_SHELFCLIMB1,
    ROOMS.DW_CHURCH_STATUECLIMB,
    ROOMS.DW_CHURCH_OFFERING,
    ROOMS.DW_CHURCH_NPCROOM_SHELFCLIMB,
    ROOMS.DW_CHURCH_STAIRS_STAINEDGLASS,
    ROOMS.DW_CHURCH_BELLSAREAWEST,
    ROOMS.DW_CHURCH_STAIRS_TOPRIGHT,
    ROOMS.DW_CHURCH_POOLSROOM1,
    ROOMS.DW_CHURCH_CANDLESROOM1,
    ROOMS.DW_CHURCH_SOLOWATERFALL,
    ROOMS.DW_CHURCH_STATUEROOM,
    ROOMS.DW_CHURCH_POOLSROOM2,
    ROOMS.DW_CHURCH_SHELFCLIMB2,
    ROOMS.DW_CHURCH_STATUECLIMB_NPCROOM,
    ROOMS.DW_CHURCH_BELLHALL_WEST,
    ROOMS.DW_CHURCH_FOUNTAINCONNECTION,
    ROOMS.DW_CHURCH_STAINEDGLASSPREVIEW,
    ROOMS.DW_CHURCH_STAIRS_TOPLEFT,
    ROOMS.DW_CHURCH_NPCROOM_POOLS1,
    ROOMS.DW_CHURCH_POOLSROOM1_EAST,
    ROOMS.DW_CHURCH_MINORLEGEND,
    ROOMS.DW_CHURCH_BOOKENEMYWEST,
    ROOMS.DW_CHURCH_POOLSROOM2SOUTH,
    ROOMS.LW_CHURCH_OFFICE,
    ROOMS.DW_CHURCH_BELLHALL_EAST,
    ROOMS.DW_CHURCH_BELLHALL_CENTRAL,
    ROOMS.DW_RALSEI_CASTLE_3F,
    ROOMS.DW_CASTLE_ROOMS_RALSEI,
    ROOMS.DW_ROTATING_TOWER,
    ROOMS.KRISROOM_DARK,
    ROOMS.LW_NOELLEHOUSE_VENTS_WEST,
    ROOMS.TOWN_KRISYARD_DARK,
    ROOMS.DW_CASTLE_ROOMS_QUEEN,
    ROOMS.DW_CASTLE_ROOMS_TENNA,
    ROOMS.DW_CHURCH_RIPPLEPUZZLE,
    ROOMS.DW_CHURCH_GLASS,
    ROOMS.DW_CHURCH_STAIRCASE,
    ROOMS.DW_CHURCH_BELLHALL_BOOKROOM,
    ROOMS.DW_CHURCH_BOOKCASE,
    ROOMS.DW_CHURCH_SAVEPOINT,
    ROOMS.DW_CHURCH_DARK_FIRE_PUZZLE,
    ROOMS.DW_CHURCH_TURTLES,
    ROOMS.DW_CHURCH_GUEI,
    ROOMS.DW_CHURCH_JACKENSTEIN,
    ROOMS.DW_CHURCH_BELLHALL_CURTAIN,
    ROOMS.DW_CHURCH_DOGCLIMB,
    ROOMS.DW_CHURCH_ARENA,
    ROOMS.DW_CHURCHB_NONGERSON_POST,
    ROOMS.LW_NOELLEHOUSE_VENTS_NORTH,
    ROOMS.LW_NOELLEHOUSE_VENTS_EAST,
    ROOMS.LW_NOELLEHOUSE_VENTS_SOUTH,
    ROOMS.DW_CHURCH_CLIMBTUT,
    ROOMS.DW_CHURCH_FASTWATER,
    ROOMS.DW_CHURCH_CRUMBLETOWER,
    ROOMS.DW_CHURCH_TOWER1,
    ROOMS.LW_CHURCH_CHOIR,
    ROOMS.DW_CHURCH_BELLCLIMB,
    ROOMS.DW_CHURCH_SHIFTCLIMB,
    ROOMS.DW_CHURCH_INTROPIANO,
    ROOMS.DW_CHURCH_INTRO_GERSON,
    ROOMS.DW_CHURCH_PIANOPIECE_LEFT,
    ROOMS.DW_CHURCH_NORTHPROPHECIES,
    ROOMS.DW_CHURCH_DARKMAZE,
    ROOMS.DW_CHURCH_QUICKTEST,
    ROOMS.DW_CHURCH_PIANOPIECE_RIGHT,
    ROOMS.DW_CHURCH_PIANOPUZZLE,
    ROOMS.DW_CHURCH_NWCONNECT,
    ROOMS.DW_CHURCH_RIGHTCONNECT,
    ROOMS.DW_CHURCH_STAIRSPREVIEW,
    ROOMS.DW_CHURCH_TRUECLIMBADVENTURE,
    ROOMS.DW_CHURCH_ORGANPUZZLE,
    ROOMS.DW_CHURCH_MIZZLEENCOUNTER,
    ROOMS.DW_CHURCH_SIDECLIMB,
    ROOMS.DW_CHURCH_SECRETPIANO,
    ROOMS.DW_CHURCH_RIPPLEPUZZLE_POSTGERS,
    ROOMS.DW_CHURCH_TALLBOOKCASES_BACKUP,
    ROOMS.DW_CHURCH_FOUNTAIN,
    ROOMS.DW_CHURCH_B_INTRO,
    ROOMS.DW_CHURCHC_FINAL_PROPHECY,
    ROOMS.DW_CHURCH_BOOKSHELFPUZZLE,
    ROOMS.LW_NOELLEHOUSE_BASEMENT,
    ROOMS.DW_CHURCH_BIBLIOXENCOUNTER,
    ROOMS.DW_CHURCH_DARKCLIMB,
    ROOMS.DW_CHURCH_MONEYFOUNTAIN,
    ROOMS.DW_CHURCH_PIANOPIECE_LEFT_B,
    ROOMS.DW_CHURCH_PIANOPIECE_RIGHTPROPHECY,
    ROOMS.DW_CHURCH_SHADOWGERSON,
    ROOMS.DW_CHURCH_HOLYWATERCOOLER,
    ROOMS.DW_CHURCH_RIPPLEWORSHIP,
    ROOMS.DW_CHURCH_WATERFALLROOM,
    ROOMS.DW_CHURCH_WATERFALLTEAROOM,
    ROOMS.DW_CASTLE_ROOMS_KRIS_SUSIE,
    ROOMS.DW_CHURCHB_STAIRCASEINTRO,
    ROOMS.DW_CHURCHB_PROPHECYENCOUNTER,
    ROOMS.DW_CHURCHB_WORSHIPROOM,
    ROOMS.DW_CHURCHB_LIBRARYCONNECTOR,
    ROOMS.DW_CHURCHB_SAVEPOINT,
    ROOMS.DW_CHURCHB_ROTATINGTOWER,
    ROOMS.DW_CHURCHB_BELLROOM,
    ROOMS.DW_CHURCHB_ESCHERSTAIRCASE,
    ROOMS.DW_CHURCHB_PROPHECYMAZE,
    ROOMS.DW_CHURCHB_ROTATINGTOWER2,
    ROOMS.DW_CHURCHB_GERSONSTUDY,
    ROOMS.DW_CHURCHB_GERSONCHASE,
    ROOMS.DW_CHURCHB_EXTINGUISHER,
    ROOMS.DW_CHURCH_KNIGHTCLIMB,
    ROOMS.DW_CHURCH_KNIGHTCLIMB_POST,
    ROOMS.DW_RHYTHM_CH4,
    ROOMS.DW_RHYTHM_COUNTDOWN_CH4,
    ROOMS.DW_RHYTHM_EMPTY_CH4,
    ROOMS.RHYTHMGAME_EDITOR,
    ROOMS.DW_CHURCHB_RIPPLE1,
    ROOMS.DW_CHURCHB_RIPPLEPOST,
    ROOMS.DW_CHURCHB_LIBRARY_ALTERNATE,
    ROOMS.DW_CHURCHB_MONEYFOUNTAIN,
    ROOMS.DW_CHURCHC_SUPERPROPHECIES,
    ROOMS.DW_CHURCHC_ENCOUNTER1,
    ROOMS.DW_CHURCHC_SLIDINGPIANO,
    ROOMS.DW_CHURCHC_RIPPLESNEAK_POC,
    ROOMS.DW_CHURCHC_ENCOUNTER2,
    ROOMS.DW_CHURCHC_FINALCLIMB,
    ROOMS.DW_CHURCHC_ANGELPROPHECY_ENCOUNTER,
    ROOMS.DW_CHURCHC_SAVEPOINT,
    ROOMS.DW_CHURCHC_DARKSWORDS,
    ROOMS.DW_CHURCHC_PRETITAN,
    ROOMS.DW_CHURCHC_PREPRETITAN,
    ROOMS.DW_CHURCHC_TITANDEFEATED,
    ROOMS.DW_CHURCHB_FOUNTAIN,
    ROOMS.DW_CHURCH_RIPSEQ1,
    ROOMS.DW_CHURCH_RIPSEQ2,
    ROOMS.DW_CHURCHC_TITANCLIMB1,
    ROOMS.DW_CHURCHC_TITANCLIMB2,
    ROOMS.LW_NOELLEHOUSE_NORTH,
    ROOMS.LW_NOELLEHOUSE_VENTS_NORTH_WEST,
    ROOMS.DW_CHURCHB_FIREPLACE,
    ROOMS.DW_CHURCHB_NONGERSON,
    ROOMS.DW_CHURCHB_LIBRARY,
    ROOMS.DW_CASTLE_TV_RHYTHM,
    ROOMS.DW_CASTLE_TV,
    ROOMS.DW_CHURCHB_WINDOWS,
    ROOMS.DW_CHURCHB_BOOKSHELF,
    ROOMS.DW_CHURCHB_MAN,
    ROOMS.DW_CHURCHB_GALLERY,
    ROOMS.DW_CHURCHB_ROTATINGTOWER_OLD,
    ROOMS.DW_CHURCHB_DARKCLIMB,
    ROOMS.DW_CHURCHC_TITANCLIMB1_POST,
    ROOMS.DW_CHURCHC_TITANCLIMB2_POST,
    ROOMS.DW_CHURCHB_DARKCLIMB_SCENE,
    ROOMS.DW_CHURCHC_DODGE,
    ROOMS.DW_CHURCHC_INSIDETITAN,
    ROOMS.DW_CHURCHC_PROPHECIES,
    ROOMS.DW_CHURCHC_ANGELPROPHECY,
    ROOMS.DW_CHURCH_BOOKSHELFPUZZLE_REV,
    ROOMS.DW_CHURCHC_TREASURECHEST,
    ROOMS.DW_CASTLE_TV_ZONE_1,
    ROOMS.DW_CASTLE_TV_ZONE_2,
    ROOMS.DW_CASTLE_TV_ZONE_3,
    ROOMS.DW_CASTLE_TV_ZONE_BATTLE,
    ROOMS.DW_CASTLE_TV_ZONE_MINIGAME,
  ]),
  flags: new Set<FlagIndex>([
    ...CH3_CONTENT.flags,
    FLAGS.BULLET_TESTER_TEMP_23,
    FLAGS.GOT_CANDY_3,
    FLAGS.GOT_CANDY_4,
    FLAGS.RECRUIT_GUEI,
    FLAGS.RECRUIT_BALTHIZARD,
    FLAGS.RECRUIT_BIBLIOX,
    FLAGS.RECRUIT_MIZZLE,
    FLAGS.RECRUIT_WICABEL,
    FLAGS.RECRUIT_WINGLADE,
    FLAGS.RECRUIT_ORGANIKK,
    FLAGS.RECRUIT_MISS_MIZZLE,
    FLAGS.CH4_UNKNOWN_700,
    FLAGS.CHURCH_LIBRARY_CONNECTOR,
    FLAGS.UNKNOWN_702,
    FLAGS.UNKNOWN_703,
    FLAGS.DARKROOM_WALL_SWITCH,
    FLAGS.CHURCH_CANDLE_LIT,
    FLAGS.UNKNOWN_706,
    FLAGS.UNKNOWN_707,
    FLAGS.UNKNOWN_708,
    FLAGS.UNKNOWN_709,
    FLAGS.CHURCH_PIANO_BOOKSHELF_PUZZLE,
    FLAGS.UNKNOWN_711,
    FLAGS.UNKNOWN_712,
    FLAGS.UNKNOWN_713,
    FLAGS.UNKNOWN_714,
    FLAGS.UNKNOWN_715,
    FLAGS.UNKNOWN_716,
    FLAGS.UNKNOWN_717,
    FLAGS.UNKNOWN_718,
    FLAGS.UNKNOWN_719,
    FLAGS.UNKNOWN_720,
    FLAGS.UNKNOWN_722,
    FLAGS.UNKNOWN_723,
    FLAGS.UNKNOWN_726,
    FLAGS.UNKNOWN_727,
    FLAGS.UNKNOWN_728,
    FLAGS.RALSEI_PARTY_TALK_CHECK,
    FLAGS.TEXT_FLAG_731,
    FLAGS.TEXT_FLAG_732,
    FLAGS.READABLE_733,
    FLAGS.HOMEALONE_PHONE_SPEECH,
    FLAGS.HOMEALONE_PIANO_SEQUENCE,
    FLAGS.HOMEALONE_PIANO_INDEX,
    FLAGS.PDC_PRESENT_X_0,
    FLAGS.PDC_PRESENT_X_1,
    FLAGS.PDC_PRESENT_X_2,
    FLAGS.HOMEALONE_BATHROOM_CONVO,
    FLAGS.SHOWED_FAMILY_PHOTO_TO_SUSIE,
    FLAGS.SHOWED_ASRIEL_PHOTO_TO_SUSIE,
    FLAGS.READABLE_746,
    FLAGS.GOT_SUSIE_PRIZE,
    FLAGS.CLEANED_UP_BLOOD_STAIN,
    FLAGS.TEXT_FLAG_750,
    FLAGS.TEXT_FLAG_751,
    FLAGS.RUDY_HOSPITAL_SIDEB_1,
    FLAGS.RUDY_HOSPITAL_SIDEB_2,
    FLAGS.READABLE_754,
    FLAGS.HOSPITAL_HALLWAY_PROGRESS,
    FLAGS.READABLE_756,
    FLAGS.READABLE_757,
    FLAGS.HOSPITAL_HALLWAY_PROGRESS_2,
    FLAGS.HOSPITAL_HALLWAY_PROGRESS_3,
    FLAGS.NPC_ANIMATED_760,
    FLAGS.TEXT_FLAG_761,
    FLAGS.TEXT_FLAG_762,
    FLAGS.NPC_FACING_763,
    FLAGS.TEXT_FLAG_764,
    FLAGS.ALPHYS_ALLEY_SEARCHED,
    FLAGS.NPC_ROOM_767,
    FLAGS.READABLE_768,
    FLAGS.READABLE_769,
    FLAGS.SCHOOL_ALPHYS_CLASS_STATE,
    FLAGS.BEACH_STATE,
    FLAGS.NPC_SIGN_773,
    FLAGS.NPC_SIGN_774,
    FLAGS.READABLE_775,
    FLAGS.TEXT_FLAG_776,
    FLAGS.BURGERPANTS_TALK_STATE,
    FLAGS.FACE_DRAW_EFFECT,
    FLAGS.TALKED_METTATON_TENNA,
    FLAGS.KRIS_YARD_STATE,
    FLAGS.READABLE_782,
    FLAGS.HOMEALONE_ORNAMENT_DONE,
    FLAGS.HOMEALONE_FAN_ACTIVE,
    FLAGS.HOMEALONE_FAN_INDEX,
    FLAGS.NPC_FACING_786,
    FLAGS.HOMEALONE_KITCHEN_SINK,
    FLAGS.RECRUIT_CHECK_NPC,
    FLAGS.TALKED_KING_KNIGHT,
    FLAGS.SAW_TENNA_KING_SCENE,
    FLAGS.UNKNOWN_791,
    FLAGS.UNKNOWN_792,
    FLAGS.UNKNOWN_793,
    FLAGS.RAIN_EFFECT_STATE,
    FLAGS.UNKNOWN_795,
    FLAGS.UNKNOWN_797,
    FLAGS.UNKNOWN_798,
    FLAGS.UNKNOWN_799,
    FLAGS.UNKNOWN_815,
    FLAGS.TORHOUSE_STATE,
    FLAGS.TEXT_FLAG_832,
    FLAGS.TEXT_FLAG_833,
    FLAGS.DCA05_STATE,
    FLAGS.SAVEPOINT_FLAG_835,
    FLAGS.TEXT_FLAG_836,
    FLAGS.TEXT_FLAG_837,
    FLAGS.TEXT_FLAG_838,
    FLAGS.DCA07_STATE,
    FLAGS.CHURCH_BELLHALL_CURTAIN,
    FLAGS.DCA09_STATE_1,
    FLAGS.DCA09_STATE_2,
    FLAGS.ORGAN_SHEET_MUSIC_USED,
    FLAGS.CHURCH_SHADOW_PUZZLE_STATE,
    FLAGS.CHURCH_SHADOW_PUZZLE_TIMER,
    FLAGS.CH4_INTRO_PROGRESS,
    FLAGS.CHURCH_TALL_BOOKCASES_STATE,
    FLAGS.AXE_OF_JUSTICE_PROGRESS,
    FLAGS.CHURCH_ARENA_STATE,
    FLAGS.PDC06B_STATE_1,
    FLAGS.SHOP1_STATE_1,
    FLAGS.SHOP1_STATE_2,
    FLAGS.TEXT_FLAG_862,
    FLAGS.REMOTE_PIANO_SHELF_X1,
    FLAGS.BOOKSHELF_PUZZLE_REVEALED,
    FLAGS.PIANO_COUCH_VISIBLE,
    FLAGS.RALSEI_ROOM_PIANO,
    FLAGS.BOOKSHELF_PUZZLE_OLD_SOLVED,
    FLAGS.GUEI_MONSTER_ENCOUNTERED,
    FLAGS.CHURCH_INTRO_PIANO,
    FLAGS.DARKMAZE_CANDY_PROGRESS,
    FLAGS.READABLE_ROOM_873,
    FLAGS.CHURCH_INTRO_GERSON,
    FLAGS.DCC03_STATE,
    FLAGS.BOOKSHELF_BOOK_1,
    FLAGS.BOOKSHELF_BOOK_2,
    FLAGS.BOOKSHELF_BOOK_3,
    FLAGS.BOOKSHELF_BOOK_4,
    FLAGS.BOOKSHELF_BOOK_5,
    FLAGS.BOOKSHELF_BOOK_6,
    FLAGS.PIANO_HINT_1,
    FLAGS.PIANO_HINT_2,
    FLAGS.PIANO_PUZZLE_SOLVED,
    FLAGS.PIANO_PUZZLE_HINT_1,
    FLAGS.PIANO_PIECE_LEFT_PROGRESS,
    FLAGS.HOMEALONE_BASEMENT_CONVO,
    FLAGS.PIANO_PUZZLE_HINT_2,
    FLAGS.DONATION_FOUNTAIN_COUNT,
    FLAGS.SECRET_PIANO_VALUE,
    FLAGS.EGG_CH4,
    FLAGS.DONATION_100_REWARD,
    FLAGS.DARKMAZE_PROGRESS,
    FLAGS.RIPPLE_WORSHIP_PROGRESS,
    FLAGS.FOUNTAIN_NPC_1,
    FLAGS.READABLE_ROOM_BOOK_1,
    FLAGS.READABLE_ROOM_BOOK_2,
    FLAGS.READABLE_ROOM_BOOK_3,
    FLAGS.READABLE_ROOM_BOOK_4,
    FLAGS.READABLE_ROOM_BOOK_5,
    FLAGS.CHURCH_ENTRANCE_FLAG,
    FLAGS.READABLE_ROOM_BOOK_6,
    FLAGS.READABLE_ROOM_BOOK_7,
    FLAGS.CHURCH_CHOIR_FLAG,
    FLAGS.TEXT_FLAG_1513,
    FLAGS.HAD_TEA_SCENE,
    FLAGS.CASTLE_KRIS_SUSIE_FLAG,
    FLAGS.CASTLE_2F_FLAG,
    FLAGS.SECRET_PIANO_PROGRESS,
    FLAGS.WATERFALL_TEAROOM,
    FLAGS.FOUNTAIN_NPC_2,
    FLAGS.SIDECLIMB_TIME_1,
    FLAGS.SIDECLIMB_TIME_2,
    FLAGS.SIDECLIMB_PROGRESS,
    FLAGS.SIDEB_DIALOGUE_PROGRESS,
    FLAGS.LW_TOWN_SIDEB_DIALOGUE,
    FLAGS.NORTH_PROPHECIES_SEEN,
    FLAGS.TRUE_CLIMB_ADVENTURE,
    FLAGS.READABLE_NUBERT_FLAG,
    FLAGS.NPC_ROOM_FLAG_1532,
    FLAGS.PDC03_PUZZLE_A,
    FLAGS.PDC03_PUZZLE_B,
    FLAGS.READABLE_ROOM_BOOK_8,
    FLAGS.READABLE_ROOM_BOOK_9,
    FLAGS.FOUNTAIN_ITEM_RECEIVED,
    FLAGS.REMOTE_PIANO_SOLVED,
    FLAGS.LIBRARY_FLAG,
    FLAGS.MIZZLE_ENCOUNTER,
    FLAGS.SECRET_PIANO_SOLVED,
    FLAGS.SAVEPOINT_TALK_1548,
    FLAGS.TEXT_FLAG_1549,
    FLAGS.TOWN_SOUTH_FLAG,
    FLAGS.TALKED_NAPSTABLOOK_UNDYNE,
    FLAGS.TALKED_NAPSTABLOOK_SHELTER,
    FLAGS.TEXT_FLAG_1554,
    FLAGS.PDC16_READABLE_FLAG,
    FLAGS.READABLE_ROOM_FLAG_1556,
    FLAGS.PDC16_PUZZLE_PROGRESS,
    FLAGS.HOMEALONE_NORTH_CONVO,
    FLAGS.TEA_PARTY_DINER_FLAG,
    FLAGS.GALLERY_PROGRESS,
    FLAGS.ORGAN_PUZZLE_PROGRESS,
    FLAGS.TEXT_FLAG_1562,
    FLAGS.NPC_ROOM_FLAG_1563,
    FLAGS.NPC_ROOM_FLAG_1564,
    FLAGS.TALKED_ASGORE_OUTFIT,
    FLAGS.TALKED_ASGORE_WELLBEING,
    FLAGS.TEXT_FLAG_1567,
    FLAGS.AXE_SPELL_UNLOCKED,
    FLAGS.READABLE_ROOM_FLAG_1570,
    FLAGS.TRUE_CLIMB_PROGRESS,
    FLAGS.BELLROOM_FLAG,
    FLAGS.WINDOWS_COUNT,
    FLAGS.READABLE_ROOM_FLAG_1574,
    FLAGS.READABLE_ROOM_FLAG_1575,
    FLAGS.SUS_TALK_FLAG,
    FLAGS.TEXT_FLAG_1577,
    FLAGS.TEXT_FLAG_1578,
    FLAGS.HOMEALONE_COUNTER,
    FLAGS.LEVELUP_COUNTER,
    FLAGS.CLOUD_DAMAGE_COUNT,
    FLAGS.REMOTE_PIANO_POSITION,
    FLAGS.FACE_DRAW_CH4,
    FLAGS.GOT_MOSS_CH4,
    FLAGS.GERSON_STUDY_PROGRESS,
    FLAGS.GERSON_STUDY_COUNTER,
    FLAGS.CHURCHC_TREASURE_ENCOUNTER,
    FLAGS.ANGEL_PROPHECY_PROGRESS,
    FLAGS.PURIFIED_COUNT,
    FLAGS.SLAIN_COUNT,
    FLAGS.CUP_STACK_KNOCKED,
    FLAGS.SAVEPOINT_TALK_1600,
    FLAGS.SAVEPOINT_TALK_1601,
    FLAGS.SAVEPOINT_TALK_1602,
    FLAGS.SAVEPOINT_TALK_1603,
    FLAGS.RIPPLE_PUZZLE_GERSON,
    FLAGS.TEXT_FLAG_1605,
    FLAGS.ANGEL_PROPHECY_ENCOUNTER,
    FLAGS.TEXT_FLAG_1607,
    FLAGS.TEXT_FLAG_1608,
    FLAGS.SAVEPOINT_TALK_1609,
    FLAGS.PROPHECIES_1611,
    FLAGS.TEXT_FLAG_1612,
    FLAGS.TEXT_FLAG_1613,
    FLAGS.SUPER_PROPHECIES_SEEN,
    FLAGS.ENCOUNTER_1616,
    FLAGS.INTRO_GERSON_1617,
    FLAGS.RUDY_TORIEL_DIALOGUE,
    FLAGS.RUDY_TORIEL_DIALOGUE_2,
    FLAGS.ALPHYS_JUICE_DIALOGUE,
    FLAGS.CHURCHB_MAN_TALKED,
    FLAGS.INSPECTED_GLASS_WITH_NOELLE,
    FLAGS.ITEM_USE_FLAG_1624,
    FLAGS.ITEM_USE_FLAG_1625,
    FLAGS.ITEM_USE_FLAG_1626,
    FLAGS.PRESENTS_CHECKED,
    FLAGS.CHURCH_INTRO_FLAG,
    FLAGS.ARENA_PIANO_FLAG,
    FLAGS.TEXT_FLAG_1630,
    FLAGS.TEXT_FLAG_1631,
    FLAGS.TEXT_FLAG_1632,
    FLAGS.TEXT_FLAG_1633,
    FLAGS.READABLE_ROOM_FLAG_1634,
    FLAGS.READABLE_ROOM_FLAG_1635,
    FLAGS.RUN_CHECK_FLAG,
    FLAGS.PUMPKIN_NPC_PROGRESS,
    FLAGS.INTRO_GUEI_TALKED,
    FLAGS.TITAN_FIGHT_PROGRESS,
    FLAGS.SOUND_OF_JUSTICE_FLAG,
    FLAGS.GERSON_STUDY_DOOR,
    FLAGS.HOMEALONE_KITCHEN,
    FLAGS.TEXT_READABLE_FLAG,
    FLAGS.CASTLE_TV_CODE_DOOR,
    FLAGS.READABLE_ROOM_FLAG_1650,
    FLAGS.TEM_SCHOOL_SONG,
    FLAGS.AXE_SPELL_TALK,
    FLAGS.NPC_ROOM_FLAG,
    FLAGS.TEXT_FLAG_1655,
    FLAGS.WEIRDROUTE_FAILED_CH4,
    FLAGS.ALPHYS_JUICE_MODIFIER,
    FLAGS.KNIGHT_CLIMB_INIT,
    FLAGS.KNIGHT_CLIMB_PROGRESS,
    FLAGS.KNIGHT_CLIMB_1660,
    FLAGS.POST_DARK_WORLD,
    FLAGS.MICCHECK_FLAG,
    FLAGS.SAVEPOINT_DARKZONE,
    FLAGS.READABLE_ROOM_FLAG_1665,
    FLAGS.ARENA_PROGRESS,
    FLAGS.CASTLE_TV_ZONE1_VISITED,
    FLAGS.CASTLE_TV_ZONE1_COMPLETE,
    FLAGS.CASTLE_TV_ZONE1_STATE,
    FLAGS.CASTLE_TV_MIC_PLATFORM,
    FLAGS.CASTLE_TV_ZONE3_STATE,
    FLAGS.CASTLE_TV_ZONE2_FLAGS,
    FLAGS.CASTLE_TV_BATTLE_STATE,
    FLAGS.CASTLE_TV_BATTLE_COMPLETE,
    FLAGS.MIKE_DOOR_OPENED,
    FLAGS.MIKE_MINIGAME_SCORE_1,
    FLAGS.MIKE_MINIGAME_SCORE_2,
    FLAGS.MIKE_MINIGAME_HISCORE,
    FLAGS.MIC_SENSITIVITY,
    FLAGS.CASTLE_TV_WATCHED,
    FLAGS.NOELLE_ROOM_PROGRESS,
    FLAGS.FOUNTAIN_SPECIAL,
    FLAGS.CHURCHC_ENCOUNTER_1,
    FLAGS.MIZZLE_SPECIAL,
  ]),
  enemies: new Set<EnemyIndex>([
    ...CH3_CONTENT.enemies,
    ENEMIES.GUEI,
    ENEMIES.BALTHIZARD,
    ENEMIES.BIBLIOX,
    ENEMIES.MIZZLE,
    ENEMIES.WICABEL,
    ENEMIES.WINGLADE,
    ENEMIES.ORGANIKK,
    ENEMIES.MISS_MIZZLE,
    ENEMIES.BOSS_8,
    ENEMIES.BOSS_9,
    ENEMIES.BOSS_10,
    ENEMIES.BOSS_11,
  ]),
};

export const CHAPTERS_META: Record<ChapterIndex, ChapterProperties> = {
  [CHAPTERS.CH1]: {
    displayName: 'The Beginning',
    content: CH1_CONTENT,
  },
  [CHAPTERS.CH2]: {
    displayName: "A Cyber's World",
    content: CH2_CONTENT,
  },
  [CHAPTERS.CH3]: {
    displayName: 'Late Night',
    content: CH3_CONTENT,
  },
  [CHAPTERS.CH4]: {
    displayName: 'Prophecy',
    content: CH4_CONTENT,
  },
};
